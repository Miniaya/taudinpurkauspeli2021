(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{205:function(e,t,n){},207:function(e){e.exports=JSON.parse('{"addCase":"Lis\xe4\xe4 case","addDifferential":"Lis\xe4\xe4 caseen uusi diffi","addDifferentialGroup":"Lis\xe4\xe4 caseen uusi diffiryhm\xe4","addNewDifferential":"Lis\xe4\xe4 uusi...","addNewDifferential2":"Luo uusi","addNewTextSubProcedure2":"Luo uusi","addTextSubProcedure":"Luo uusi tekstialakohta","addProcedure":"Lis\xe4\xe4 toimenpide","addDisease":"Lis\xe4\xe4 tauti","buttonAddFinalDiagnosis":"+ Lis\xe4\xe4 loppudiagnoosi","buttonAddNewMultiChoice":"+ Lis\xe4\xe4 pohdinta","buttonAddNewQuestion":"+ Lis\xe4\xe4 kysymys","buttonAddNewText":"+ Lis\xe4\xe4 teksti","buttonEdit":"Muokkaa","buttonHideCaseFromStudents":"Piilota case opiskelijoilta","buttonShowCaseToStudents":"N\xe4yt\xe4 case opiskelijoille","buttonNewCase":"+ Lis\xe4\xe4 uusi case","buttonNewDifferential":"+ Lis\xe4\xe4 uusi diffi","buttonNewDifferentialGroup":"+ Lis\xe4\xe4 uusi diffiryhm\xe4","buttonNewProcedure":"+ Lis\xe4\xe4 uusi toimenpide","buttonNewSubProcedure":"+ Lis\xe4\xe4 uusi alakohta","buttonPlay":"Pelaa","buttonRemove":"Poista","buttonRemoveAll":"Poista kaikki","buttonSaveDifferential":"Tallenna diffi","buttonSave":"Tallenna","buttonSearch":"Etsi","buttonSelectCase":"Valitse case:","buttonSubmit":"Lis\xe4\xe4","buttonSubmitNewCase":"Lis\xe4\xe4 case","buttonSubmitNewDifferential":"Lis\xe4\xe4","buttonSubmitNewDifferentialGroup":"Lis\xe4\xe4","buttonSubmitNewDisease":"Lis\xe4\xe4","buttonSubmitNewProcedure":"Lis\xe4\xe4 toimenpide","buttonUpdate":"P\xe4ivit\xe4","caseAnamnesis":"Anamneesi","caseAnamnesisInstruction":"Muokattuasi anamneesia, paina Enteria tallentaaksesi muutokset","caseDifferentials":"Diffit","caseHidden":"Opiskelijoilta piilotetut caset","casePlayable":"Pelattavissa olevat caset","caseProcedures":"Toimenpiteet","caseTitle":"Casen nimi","caseAddError":"VIRHE! Uutta casea ei voitu luoda","caseAddSuccess":"Case luotu onnistuneesti","caseUpdateError":"VIRHE! Casen p\xe4ivitt\xe4minen ep\xe4onnistui","caseUpdateSuccess":"Case p\xe4ivitetty onnistuneesti","caseTitleInstruction":"Muokattuasi otsikkoa, paina Enteria tallentaaksesi muutokset","cases":"Caset","category":"Kategoria","chooseDifferential":"Valitse diffi","clickTheDisease":"Klikkaa tautia","copy":"Kopioi","description":"Kuvaus","deleteCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n casen?","deleteCaseSuccess":"Casen poistaminen onnistui","deleteCaseError":"VIRHE! Casen poisto ep\xe4onnistui.","Differentials":"Diffit","differentialGroupUpdateSuccess":"Diffiryhm\xe4 lis\xe4tty onnistuneesti","differentialGroupUpdateError":"VIRHE! Valittu diffiryhm\xe4 on jo aiemmin lis\xe4tty caseen.","differentialUpdateSuccess":"Diffi lis\xe4tty onnistuneesti","differentialUpdateError":"VIRHE! Valittu diffi on jo aiemmin lis\xe4tty caseen.","edit":"Muokkaa","editCase":"Edit case","editProcedure":"Muokkaa toimenpidett\xe4","fileBank":"Tiedostopankki","frontpageTitle":"Etusivu","frontpageText":"Tervetuloa! \\n\\n Valitse alta case, jota haluat pelata. Peliohjeet l\xf6ytyv\xe4t navigointipalkista.","gameInstructions":"Pelin tarkoitus on opetella taudinpurkaukseen tarvittavaa ajattelumallia. Yrit\xe4 mietti\xe4, mik\xe4 olisi paras j\xe4rjestys suorittaa pelin toimenpiteet oikeaan diagnoosiin p\xe4\xe4st\xe4ksesi. Pelin toimenpiteet eiv\xe4t ole toimenpidelistassa oikeassa suoritusj\xe4rjestyksess\xe4. V\xe4\xe4ri\xe4 diffej\xe4 on helpointa sulkea pois heti, kun voit varmuudella tehd\xe4 niin. \\n\\n Edistymisesi casessa tallentuu automaattisesti, joten voit poistua v\xe4lill\xe4 Taudinpurkauspelist\xe4 ja tulla my\xf6hemmin jatkamaan casen selvitt\xe4mist\xe4. N\xe4et edistymisesi casessa etusivulla.","giveNumber":"Sy\xf6t\xe4 numero...","goToProcedure":"Siirry toimenpiteeseen","hideCase":"Piilota opiskelijoilta","howToPlay":"Peliohjeet","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"Tautilista","logOut":"Kirjaudu ulos","nameOfTheGame":"Taudinpurkauspeli","noDifferentialsYet":"Ei viel\xe4 diffej\xe4","procedureAddError":"VIRHE! Toimenpiteen lis\xe4ys ep\xe4onnistui","procedureAddSuccess":"Toimenpiteen lis\xe4ys onnistui","procedurePriority":"Toimenpiteen t\xe4rkeysj\xe4rjestys","procedureTitle":"Toimenpiteen nimi","procedure":"Toimenpide","procedures":"Toimenpiteet","searchByTitle":"Etsi nimell\xe4","selectLanguage":"Valitse kieli","selectDifferentialGroup":"Valitse diffiryhm\xe4...","selectDifferential":"Valitse diffi...","selectExistingDifferential":"Hae olemassaolevaa diffi\xe4","selectExistingDifferentialGroup":"Hae olemassaolevaa diffiryhm\xe4\xe4","selectExisting":"Valitse valikosta","selectUser":"Valitse k\xe4ytt\xe4j\xe4muoto","student":"opiskelija","subProcedurePriority":"Alakohdan t\xe4rkeysj\xe4rjestys","subProcedureUpdateError":"VIRHE! Toimenpiteen alakohdan p\xe4ivitys ep\xe4onnistui","subProcedureUpdateSuccess":"Toimenpiteen alakohdan p\xe4ivitys onnistui","subProcedures":"Toimenpiteen alakohdat","teacher":"opettaja","text":"Teksti","textSubProcedureUpdateError":"VIRHE! Valittu alakohta on jo aiemmin lis\xe4tty caseen.","textSubProcedureUpdateSuccess":"Tekstialakohta lis\xe4tty onnistuneesti","textToAdd":"Teksti","title":"Nimi","updateSubProcedure":"P\xe4ivit\xe4 toimenpiteen alakohtaa","userInformation":"K\xe4ytt\xe4jien seuranta","userProfile":"K\xe4ytt\xe4j\xe4tiedot","warningShort":"Liian lyhyt","warningLong":"Liian pitk\xe4","warningRequired":"Vaadittu tieto","write":"Kirjoita..."}')},208:function(e){e.exports=JSON.parse('{"addCase":"Add case","addDifferential":"Add new differential to case","addDifferentialGroup":"Add new differential group to case","addNewDifferential":"Add new...","addNewDifferential2":"Create new","addNewTextSubProcedure2":"Create new","addTextSubProcedure":"Add new text subprocedure","addProcedure":"Add procedure","addDisease":"Add disease","buttonAddFinalDiagnosis":"+ Add final diagnosis","buttonAddNewMultiChoice":"+ Add new multichoice","buttonAddNewQuestion":"+ Add new question","buttonAddNewText":"+ Add new text","buttonEdit":"Edit","buttonHideCaseFromStudents":"Hide case from students","buttonShowCaseToStudents":"Show case to students","buttonNewCase":"+ Add new case","buttonNewDifferential":"+ Add new differential","buttonNewDifferentialGroup":"+ Add new differential group","buttonNewProcedure":"+ Add new procedure","buttonNewSubProcedure":"+ Add new sub procedure","buttonPlay":"Play","buttonRemove":"Remove","buttonRemoveAll":"Remove all","buttonSaveDifferential":"Save differential","buttonSave":"Save","buttonSearch":"Search","buttonSelectCase":"Select case:","buttonSubmit":"Submit","buttonSubmitNewCase":"Add case","buttonSubmitNewDifferential":"Submit","buttonSubmitNewDifferentialGroup":"Submit","buttonSubmitNewDisease":"Submit","buttonSubmitNewProcedure":"Add procedure","buttonUpdate":"Update","caseAnamnesis":"Anamnesis","caseAnamnesisInstruction":"After editing the Anamnesis, press Enter to save","caseDifferentials":"Differentials","caseHidden":"Cases hidden from students","casePlayable":"Playable cases","caseProcedures":"Procedures","caseTitle":"Case title","caseTitleInstruction":"After editing the title, press Enter to save","caseAddError":"ERROR! Could not add the case","caseAddSuccess":"Case added successfully","caseUpdateError":"ERROR! Could not update case","caseUpdateSuccess":"Case was updated successfully","cases":"Cases","category":"Category","chooseDifferential":"Choose differential","clickTheDisease":"Click the disease","copy":"Copy","description":"Description","deleteCaseConfirmation":"Are you sure you want to delete this case?","deleteCaseSuccess":"Case deleted successfully","deleteCaseError":"ERROR! Could not delete case.","Differentials":"Differentials","differentialGroupUpdateSuccess":"Differential was added successfully","differentialGroupUpdateError":"ERROR! The differential already exists in this case.","differentialUpdateSuccess":"Differential was added succesfully","differentialUpdateError":"ERROR! The differential already exists in this case.","edit":"Edit","editCase":"Edit case","editProcedure":"Edit procedure","fileBank":"Filebank","frontpageText":"Welcome! \\n \\n Select the case you want to play. The game instructions can be found in navigation bar.","frontpageTitle":"Front page","gameInstructions":"The goal of this game is to learn the procedure to handle disease outbreaks. Try to think what would be the best order to execute the operations to come to the right diagnosis. The operations are not in the right order at the operations list. It\'s easiest to rule out wrong diffs whenever you\'re sure it\'s the right call. \\n\\n Your progress is saved automatically, so you can leave the game and continue later where you left off. You can see your progress with the case on the front page.","giveNumber":"Give a number...","goToProcedure":"Go to procedure","hideCase":"Hide from students","howToPlay":"How to play","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"List of diseases","logOut":"Log out","nameOfTheGame":"Taudinpurkauspeli","noDifferentialsYet":"No differentials yet","procedureAddError":"ERROR! Could not add a procedure","procedureAddSuccess":"Procedure added successfully","procedurePriority":"Procedure priority","procedureTitle":"Procedure title","procedure":"Procedure","procedures":"Procedures","searchByTitle":"Search by title","selectDifferential":"Select differential...","selectDifferentialGroup":"Select differential group...","selectExisting":"Select existing","selectExistingDifferential":"Select an existing differential","selectExistingDifferentialGroup":"Select an existing differential group","selectLanguage":"Select language","selectUser":"Select user in charge","student":"student","subProcedurePriority":"Subprocedure priority","subProcedureUpdateError":"ERROR! Could not update the procedure","subProcedureUpdateSuccess":"Procedure updated successfully","subProcedures":"Sub Procedures","teacher":"teacher","text":"Text","textSubProcedureUpdateError":"ERROR! The subprocedure already exists in this case.","textSubProcedureUpdateSuccess":"Text subprocedure was added succesfully","textToAdd":"Text","title":"Title","updateSubProcedure":"Update subprocedure","userInformation":"Users","userProfile":"Profile","warningShort":"Too short","warningLong":"Too long","warningRequired":"Required information","write":"Write..."}')},340:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(39),s=n.n(r),c=n(9),o=(n(205),n(206),n(22)),d=n(356),u=n(198),l=n(354),j=n(84),b=n(358),f=n(96),h=n(95),p=n(187);f.a.use(p.a).init(),f.a.use(h.e).init({fallbackLng:"fi",lng:localStorage.getItem("i18nextLng")||"fi",resources:{fi:{translations:n(207)},en:{translations:n(208)}},ns:["translations"],defaultNS:"translations"}),f.a.languages=["fi","en"];var m=f.a,O=n(1),x=function(e){var t=e.user,n=e.admin,a=Object(b.a)().t,i=function(e){m.changeLanguage(e)};return Object(O.jsxs)(d.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",sticky:"top",children:[Object(O.jsx)(d.a.Brand,{as:o.b,to:"/",children:a("nameOfTheGame")}),Object(O.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(O.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(u.a,{className:"ml-auto",children:[Object(O.jsxs)(l.a,{title:a("selectLanguage"),id:"selectLanguage",className:"navItems",children:[Object(O.jsx)(l.a.Item,{onClick:function(){return i("fi")},eventKey:"fi",children:a("languageFinnish")}),Object(O.jsx)(l.a.Item,{onClick:function(){return i("en")},eventKey:"en",children:a("languageEnglish")})]}),n&&Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(j.a,{as:o.b,to:"/users",className:"navItems",children:a("userInformation")})}),n&&Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(j.a,{as:o.b,to:"/files",className:"navItems",children:a("fileBank")})}),Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(j.a,{as:o.b,to:"/howtoplay",className:"navItems",children:a("howToPlay")})}),t&&Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(j.a,{as:o.b,to:"/profile",className:"navItems",children:a("userProfile")})}),Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(j.a,{href:"https://taudinpurkauspeli-taudinpurkauspeli2021.apps.ocp-prod-0.k8s.it.helsinki.fi/Shibboleth.sso/Logout",className:"navItems",children:a("logOut")})})]})})]})},v=n(12),g=n.n(v),S=null,y=function(){return{headers:{Authorization:S}}},C="/api/cases",w=function(){return g.a.get(C,y()).then((function(e){return e.data}))},k=function(e){return g.a.post(C,e,y()).then((function(e){return e.data}))},N=function(e,t){return g.a.put("".concat(C,"/").concat(e),t,y())},I=function(e){return g.a.delete("".concat(C,"/").concat(e),y()).then((function(e){return e.data}))},T=function(){return Object(O.jsx)("div",{id:"sidebar"})},P=n(23),D=n(348),E=n(195),A=n(189),G=n(353),L=n(31),B=n(16),U=n(355),R=function(e){var t=e.addCase,n=Object(b.a)().t,a=B.b().shape({title:B.c().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),anamnesis:B.c(),hidden:B.a()});return Object(O.jsx)(L.a,{initialValues:{title:"",anamnesis:"",hidden:!1},validationSchema:a,onSubmit:function(e){t({title:e.title,anamnesis:e.anamnesis,hidden:e.hidden})},children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"title",children:[Object(O.jsx)(U.a.Label,{children:n("caseTitle")}),Object(O.jsx)(U.a.Control,{type:"text",name:"title",value:i.title,onChange:a,isInvalid:!!r.title}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",children:r.title})]}),Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"anamnesis",children:[Object(O.jsx)(U.a.Label,{children:n("caseAnamnesis")}),Object(O.jsx)(U.a.Control,{as:"textarea",name:"anamnesis",rows:3,value:i.anamnesis,onChange:a})]}),Object(O.jsx)(U.a.Group,{className:"mb-3",controlId:"hidden",children:Object(O.jsx)(U.a.Check,{required:!0,name:"hidden",label:n("hideCase"),value:i.hidden,onChange:a})}),Object(O.jsx)(A.a,{className:"submitButton",id:"submit-case",type:"submit",children:n("buttonSubmitNewCase")})]})}})},H=n(140),V=(n(337),function(e){H.b.error(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})}),F=function(e){H.b.success(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},K=function(){return Object(O.jsx)(H.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!0})},q=function(){var e=Object(b.a)().t,t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],s=function(){return r(!i)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{className:"addButton",onClick:s,id:"addNew",children:e("buttonNewCase")}),Object(O.jsxs)(G.a,{show:i,onHide:s,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:e("addCase")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsx)(R,{addCase:function(t){k(t).then((function(){s(),F(e("caseAddSuccess"))})).catch((function(t){console.log(t),s(),V(e("caseAddError"))}))}})})]})]})},z=n(359),M=n(347),Y="/api/differentialsUnderCases",J=function(e){return g.a.get("".concat(Y,"/").concat(e),y()).then((function(e){return e.data}))},W=function(e){return g.a.post(Y,e,y()).then((function(e){return e.data}))},Q="/api/proceduresUnderCases",X=function(e){return g.a.get("".concat(Q,"/").concat(e),y()).then((function(e){return e.data}))},$=function(e){return g.a.post(Q,e,y()).then((function(e){return e.data}))},Z=function(e,t){return g.a.put("".concat(Q,"/").concat(e),t,y())},_=function(e){var t=e.caseToBeCopied,n=e.createProcedures,a=e.createDifferentials,i=Object(b.a)().t,r=t.id,s=0;return Object(O.jsx)(A.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault();var i={title:t.title,anamnesis:t.anamnesis,hidden:t.hidden};k(i).then((function(e){s=e.id})).then((function(){J(r).then((function(e){a(s,e)}))})).then((function(){X(r).then((function(e){n(s,e)}))}))},children:i("copy")})},ee=function(e){var t=e.caseToBeRemoved,n=e.deleteCase,a=Object(b.a)().t;return Object(O.jsx)(A.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(e){e.preventDefault(),n(t.id)},children:a("buttonRemove")})},te=function(e){var t=e.c,n=e.admin,a=Object(b.a)().t;return Object(O.jsxs)("div",{children:[Object(O.jsxs)(z.a,{as:o.b,to:"/cases/".concat(t.id),style:{width:"20rem",cursor:"pointer"},className:"caseCard",children:[Object(O.jsxs)(z.a.Body,{children:[Object(O.jsx)(z.a.Title,{children:t.title}),Object(O.jsx)(z.a.Text,{children:t.anamnesis})]}),Object(O.jsx)(z.a.Footer,{children:Object(O.jsx)(M.a,{className:"progsbar",variant:"success",now:25,label:"".concat(25,"%")})})]}),n&&Object(O.jsxs)("div",{className:"cardButtons",children:[Object(O.jsx)(A.a,{className:"editButton",as:o.b,to:"/cases/".concat(t.id),size:"sm",children:a("buttonEdit")}),Object(O.jsx)(_,{caseToBeCopied:t,createDifferentials:function(e,t){for(var n=0;n<t.length;n+=1){var a=t[n],i=a.id,r=a.description;W({caseId:e,differentialId:i,description:r})}},createProcedures:function(e,t){for(var n=0;n<t.length;n+=1){var a=t[n],i=a.procedureId,r=a.priority;$({caseId:e,procedureId:i,priority:r})}}}),Object(O.jsx)(ee,{caseToBeRemoved:t,deleteCase:function(){!0===window.confirm(a("deleteCaseConfirmation"))&&I(t.id).then((function(){return F(a("deleteCaseSuccess"))})).catch((function(){return V(a("deleteCaseError"))}))}})]})]})},ne=function(e){var t=e.newSearch,n=e.searchCases,a=Object(b.a)().t;return Object(O.jsx)("div",{children:Object(O.jsxs)("label",{htmlFor:"search",children:[a("searchByTitle"),"\xa0",Object(O.jsx)("input",{id:"search",value:t,onChange:n})]})})},ae=function(e){var t=e.cases,n=e.admin,i=Object(b.a)().t,r=Object(a.useState)(""),s=Object(c.a)(r,2),o=s[0],d=s[1],u=o?t.filter((function(e){return e.title.toLowerCase().includes(o.toLowerCase())})):t;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)("h2",{children:i("frontpageTitle")}),Object(O.jsx)("p",{children:i("frontpageText")}),Object(O.jsx)(ne,{newSearch:o,searchCases:function(e){d(e.target.value)}}),Object(O.jsx)("br",{}),n&&Object(O.jsxs)("div",{children:[Object(O.jsx)(q,{}),Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:i("caseHidden")}),Object(O.jsx)("hr",{})]}),Object(O.jsx)(D.a,{xs:"auto",md:"auto",className:"g-4",children:n&&u.filter((function(e){return e.hidden})).map((function(e){return Object(O.jsx)(E.a,{children:Object(O.jsx)(te,{c:e,admin:n})},e.id)}))}),Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:i("casePlayable")}),Object(O.jsx)("hr",{}),Object(O.jsx)(D.a,{xs:"auto",md:"auto",className:"g-4",children:u.filter((function(e){return!e.hidden})).map((function(e){return Object(O.jsx)(E.a,{children:Object(O.jsx)(te,{c:e,admin:n})},e.id)}))})]})},ie=function(){var e=Object(b.a)().t;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)("h2",{children:e("howToPlay")}),Object(O.jsx)("p",{children:e("gameInstructions")})]})},re=function(){var e=Object(b.a)().t;return Object(O.jsx)("div",{id:"wrapper",children:Object(O.jsx)("h2",{children:e("userProfile")})})},se=function(){var e=Object(b.a)().t;return Object(O.jsx)("div",{id:"wrapper",children:Object(O.jsx)("h2",{children:e("userInformation")})})},ce=n(349),oe=function(){var e=Object(b.a)().t,t=Object(P.h)().id,n="/cases/".concat(t);return Object(O.jsx)("div",{id:"wrapper",children:Object(O.jsxs)(ce.a,{children:[Object(O.jsx)(A.a,{className:"tabs",as:o.b,to:n,disabled:!0,children:e("caseAnamnesis")}),Object(O.jsx)(A.a,{className:"tabs",as:o.b,to:"".concat(n,"/procedures"),children:e("caseProcedures")}),Object(O.jsx)(A.a,{className:"tabs",as:o.b,to:"".concat(n,"/differentials"),children:e("caseDifferentials")})]})})},de=function(e){var t=e.addProcedure,n=Object(b.a)().t,a=B.b().shape({title:B.c().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired"))});return Object(O.jsx)(L.a,{initialValues:{title:""},validationSchema:a,onSubmit:function(e){t({title:e.title,anamnesis:e.anamnesis,hidden:e.hidden})},children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"title",children:[Object(O.jsx)(U.a.Label,{children:n("procedureTitle")}),Object(O.jsx)(U.a.Control,{type:"text",name:"title",value:i.title,onChange:a,isInvalid:!!r.title}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",children:r.title})]}),Object(O.jsx)(A.a,{type:"submit",className:"submitButton",children:n("buttonSubmitNewProcedure")})]})}})},ue="/api/procedures",le=function(e){return g.a.post(ue,e,y()).then((function(e){return e.data}))},je=function(e){return g.a.get("".concat(ue,"/").concat(e),y()).then((function(e){return e.data}))},be=function(e,t){return g.a.put("".concat(ue,"/").concat(e),t,y())},fe=function(e){var t=e.caseId,n=Object(b.a)().t,i=Object(a.useState)(!1),r=Object(c.a)(i,2),s=r[0],o=r[1],d=function(){return o(!s)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{className:"addButton",onClick:d,children:n("buttonNewProcedure")}),Object(O.jsxs)(G.a,{show:s,onHide:d,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:n("addProcedure")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsx)(de,{addProcedure:function(e){le(e).then((function(e){d(),F(n("procedureAddSuccess"));var a={caseId:t,procedureId:e.id,priority:1};$(a)})).catch((function(e){console.log(e),d(),V(n("procedureAddError"))}))}})})]})]})},he=n(29),pe=function(e){var t=e.procedure,n=e.caseId,i=e.editProcedureFunc,r=Object(a.useState)(t.proceduresUnderCase.priority),s=Object(c.a)(r,2),d=(s[0],s[1]),u=Object(a.useState)(t.title),l=Object(c.a)(u,2),j=(l[0],l[1]),f=Object(b.a)().t,h=Object(P.g)(),p="/cases/".concat(n);return Object(O.jsxs)("div",{id:"editProcedureForm",children:[Object(O.jsx)("h2",{children:f("editProcedure")}),Object(O.jsx)(A.a,{className:"procedureButton goTo",as:o.b,to:"".concat(p,"/procedure/").concat(t.id),style:{margin:15},children:f("goToProcedure")}),Object(O.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),j(e.target[0].value),d(e.target[1].value);var n={caseId:t.proceduresUnderCase.caseId,procedureId:t.proceduresUnderCase.procedureId,priority:e.target[1].value},a={title:e.target[0].value};null!=i&&i(n),be(t.id,a),Z(t.id,n),null==i&&h.push("/")}(e)},children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("label",{htmlFor:"title",children:f("procedureTitle")}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{id:"title",type:"text",defaultValue:t.title,onChange:function(e){j(e.target.value)},className:"formInput"})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("label",{htmlFor:"priority",children:f("procedurePriority")}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{id:"priority",type:"integer",onChange:function(e){d(e.target.value)},defaultValue:t.proceduresUnderCase.priority,className:"formInput"})]}),Object(O.jsx)("p",{children:Object(O.jsx)(A.a,{input:!0,type:"submit",id:"submit",className:"submitButton",children:f("buttonSave")})})]})]},t.proceduresUnderCase.priority)},me=function(e){var t=e.proceduresHook,n=e.handleDragStart,a=e.handleDragEnd,i=e.handleDragEnter,r=e.t,s=e.submitForm;return t&&t.map((function(e,t){return Object(O.jsx)("h4",{onDragStart:function(e){return n(e,t)},onDragEnd:function(){return a()},onDragEnter:function(e){return i(e,t)},draggable:!0,children:Object(O.jsxs)("div",{className:"rows",children:[Object(O.jsxs)(A.a,{className:"procedureButton",children:[" ",e.proceduresUnderCase.priority," ",e.title," "]}),Object(O.jsx)("form",{onSubmit:function(t){return s(e,t)},className:"handleEdits",children:Object(O.jsx)(A.a,{type:"submit",className:"editButton",size:"sm",children:r("buttonEdit")},t)})]})},t)}))},Oe=function(e){var t=e.id,n=Object(b.a)().t,i=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(a.useState)([]),o=Object(c.a)(s,2),d=o[0],u=o[1],l=Object(a.useState)(null),j=Object(c.a)(l,2),f=j[0],h=j[1];Object(a.useEffect)((function(){je(t).then((function(e){var t=e[0].procedures;t.sort((function(e,t){return e.proceduresUnderCase.priority-t.proceduresUnderCase.priority})),u(t)}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{proceduresHook:d,handleDragStart:function(e,t){i.current=t},handleDragEnd:function(){d.map((function(e,t){return function(e,t){var n={caseId:e.proceduresUnderCase.caseId,procedureId:e.proceduresUnderCase.procedureId,priority:t+1};Z(e.proceduresUnderCase.procedureId,n)}(e,t)}))},handleDragEnter:function(e,t){r.current=t;var n=Object(he.a)(d),a=n[i.current];n.splice(i.current,1),n.splice(r.current,0,a),i.current=r.current,r.current=null,u(n)},t:n,submitForm:function(e,t){t.preventDefault(),function(e){h(e)}(e)}}),f?Object(O.jsx)(pe,{procedure:f,caseId:t}):Object(O.jsx)("p",{children:" "})]})},xe=function(e){var t=e.admin,n=Object(b.a)().t,a=Object(P.h)().id;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)("h2",{children:n("procedures")}),t&&Object(O.jsx)(fe,{caseId:a}),Object(O.jsx)(Oe,{id:a})]})},ve=n(350),ge=n(351),Se=n(352),ye="/api/subProcedures",Ce=function(e){return g.a.post(ye,e,y()).then((function(e){return e.data}))},we=function(e){return g.a.get("".concat(ye,"/").concat(e),y()).then((function(e){return e.data}))},ke=function(){return g.a.get(ye,y()).then((function(e){return e.data}))},Ne="/api/textSubProcedures",Ie=function(e){return g.a.post(Ne,e,y()).then((function(e){return e.data}))},Te=function(e,t){return g.a.put("".concat(Ne,"/").concat(e),t,y())},Pe=function(e){var t=e.handleSubProcedureAdd,n=Object(b.a)().t,a=B.b().shape({title:B.c().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),priority:B.c(),text:B.c()});return Object(O.jsx)(L.a,{initialValues:{priority:"",title:"",text:""},validationSchema:a,onSubmit:function(e){t({priority:e.priority,type:"TEXT",title:e.title,text:e.text})},children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"title",children:[Object(O.jsx)(U.a.Label,{children:n("title")}),Object(O.jsx)(U.a.Control,{type:"text",name:"title",placeholder:n("write"),value:i.title,onChange:a,isInvalid:!!r.title}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.title})]}),Object(O.jsxs)(U.a.Group,{md:"6",controlId:"priority",children:[Object(O.jsx)(U.a.Label,{children:n("subProcedurePriority")}),Object(O.jsx)(U.a.Control,{type:"text",name:"priority",placeholder:n("giveNumber"),value:i.priority,onChange:a})]}),Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"text",children:[Object(O.jsx)(U.a.Label,{children:n("textToAdd")}),Object(O.jsx)(U.a.Control,{as:"textarea",name:"text",rows:10,value:i.text,onChange:a})]}),Object(O.jsx)(A.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})}})},De=function(e){var t=e.proceduresId,n=Object(b.a)().t,r=Object(a.useState)(null),s=Object(c.a)(r,2),o=s[0],d=s[1],u=Object(a.useState)(null),l=Object(c.a)(u,2),j=l[0],f=l[1],h=Object(a.useState)(!1),p=Object(c.a)(h,2),m=p[0],x=p[1],v=Object(a.useState)([]),g=Object(c.a)(v,2),S=(g[0],g[1]);i.a.useEffect((function(){ke().then((function(e){S(e)})).catch((function(e){console.log(e)}))}),[]);var y=function(){return x(!m)},C=function(e){Ie(e).then((function(){return y(),d(n("textSubProcedureUpdateSuccess")),void setTimeout((function(){d(null)}),3e3)})).catch((function(e){return function(e){console.log(e),y(),f(n("textSubProcedureUpdateError")),setTimeout((function(){f(null)}),3e3)}(e)}))};return Object(O.jsxs)("div",{children:[null!==o&&Object(O.jsx)(ve.a,{variant:"success",children:o}),null!==j&&Object(O.jsx)(ve.a,{variant:"danger",children:j}),Object(O.jsx)(A.a,{className:"addButton text",onClick:y,size:"sm",children:n("buttonAddNewText")}),Object(O.jsxs)(G.a,{show:m,onHide:y,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:n("addTextSubProcedure")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsx)(ge.a,{defaultActiveKey:"add",id:"textSubProcedure",className:"mb-3",children:Object(O.jsx)(Se.a,{eventKey:"add",title:n("addNewTextSubProcedure2"),children:Object(O.jsx)(Pe,{handleSubProcedureAdd:function(e){Ce({priority:e.priority,type:e.type}).then((function(n){var a=n.id;C({subProcedureId:a,proceduresUnderCaseProcedureCaseId:t,title:e.title,text:e.text})}))}})})})})]})]})},Ee=n(357),Ae=function(e){var t=e.title,n=e.text,a=e.handleTextSubProcedureUpdate,i=Object(b.a)().t,r=B.b().shape({title:B.c().min(2,i("warningShort")).max(999,i("warningLong")).required(i("warningRequired")),priority:B.c(),text:B.c()});return Object(O.jsx)(L.a,{initialValues:{title:t,text:n},validationSchema:r,onSubmit:function(e){a({title:e.title,text:e.text})},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"title",children:[Object(O.jsx)(U.a.Label,{children:i("title")}),Object(O.jsx)(U.a.Control,{type:"text",name:"title",placeholder:i("write"),value:a.title,onChange:n,isInvalid:!!r.title}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.title})]}),Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"text",children:[Object(O.jsx)(U.a.Label,{children:i("textToAdd")}),Object(O.jsx)(U.a.Control,{as:"textarea",name:"text",rows:10,value:a.text,onChange:n})]}),Object(O.jsx)(A.a,{type:"submit",children:i("buttonUpdate")})]})}})},Ge=function(e){var t=e.title,n=e.text,i=e.id,r=Object(b.a)().t,s=Object(a.useState)(!1),o=Object(c.a)(s,2),d=o[0],u=o[1],l=function(){return u(!d)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{className:"editButton",size:"sm",onClick:l,children:r("buttonEdit")}),Object(O.jsxs)(G.a,{show:d,onHide:l,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:r("updateSubProcedure")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsx)(Ae,{title:t,text:n,handleTextSubProcedureUpdate:function(e){Te(i,e).then((function(){l(),F(r("subProcedureUpdateSuccess"))})).catch((function(){l(),V(r("subProcedureUpdateError"))}))}})})]})]})},Le=function(e){var t=e.id,n=e.title,a=e.text,i=e.admin;return Object(O.jsx)("div",{children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)(Ee.a.Toggle,{as:z.a.Header,eventKey:t,children:Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[n,i&&Object(O.jsx)("div",{className:"cardButtons",children:Object(O.jsx)(Ge,{title:n,text:a,id:t})})]})}),Object(O.jsx)(Ee.a.Collapse,{eventKey:t,children:Object(O.jsx)(z.a.Body,{children:a})})]})})},Be=function(e){var t=e.d,n=e.admin;if("TEXT"===t.type)return Object(O.jsx)(Le,{id:t.id,title:t.textSubProcedures.title,text:t.textSubProcedures.text,admin:n})},Ue=function(e){var t=e.proceduresId,n=e.admin,r=Object(a.useState)([]),s=Object(c.a)(r,2),o=s[0],d=s[1];return i.a.useEffect((function(){we(t).then((function(e){var t=e[0].subProcedures;t.sort((function(e,t){return e.priority-t.priority})),d(t)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)(Ee.a,{children:o.map((function(e){return Object(O.jsx)(Be,{d:e,admin:n})}))})},Re=function(e){var t=e.admin,n=(e.caseId,Object(b.a)().t),i=Object(P.h)().id,r=Object(a.useState)(!1),s=Object(c.a)(r,2),o=s[0],d=s[1],u={display:o?"":"none"};return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)("h2",{children:n("subProcedures")}),t&&Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{className:"addButton",onClick:function(){return d(!0)},id:"addNew",children:n("buttonNewSubProcedure")}),Object(O.jsxs)("div",{className:"rows",style:u,children:[Object(O.jsx)(De,{proceduresId:i}),Object(O.jsx)(A.a,{className:"addButton question",size:"sm",children:n("buttonAddNewQuestion")}),Object(O.jsx)(A.a,{className:"addButton multichoice",size:"sm",children:n("buttonAddNewMultiChoice")}),Object(O.jsx)(A.a,{className:"addButton diagnosis",size:"sm",children:n("buttonAddFinalDiagnosis")})]}),Object(O.jsx)(Ue,{proceduresId:i,admin:t})]})]})},He="/api/differentialGroupsUnderCases",Ve=function(e){return g.a.get("".concat(He,"/").concat(e),y()).then((function(e){return e.data}))},Fe=function(e){return g.a.post(He,e,y()).then((function(e){return e.data}))},Ke=function(e){var t=e.id,n=e.name,a=e.description;return Object(O.jsxs)(z.a,{children:[Object(O.jsx)(Ee.a.Toggle,{as:z.a.Header,eventKey:t,id:"differentialName",children:n}),Object(O.jsx)(Ee.a.Collapse,{eventKey:t,children:Object(O.jsx)(z.a.Body,{children:a})})]})},qe=function(e){var t=e.diffGroupCaseId,n=Object(a.useState)([]),r=Object(c.a)(n,2),s=r[0],o=r[1];return i.a.useEffect((function(){J(t).then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)(Ee.a,{children:s.map((function(e){return Object(O.jsx)(Ke,{id:e.id,name:e.name,description:e.description},e.id)}))})},ze="/api/differentials",Me=function(){return g.a.get(ze,y()).then((function(e){return e.data}))},Ye=function(e){return g.a.post(ze,e,y()).then((function(e){return e.data}))},Je=function(e){var t=e.addDifferential,n=Object(b.a)().t,a=B.b().shape({name:B.c().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),description:B.c()});return Object(O.jsx)(L.a,{initialValues:{name:"",description:""},validationSchema:a,onSubmit:function(e){t({name:e.name,description:e.description})},children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"name",children:[Object(O.jsx)(U.a.Label,{children:n("addDifferential")}),Object(O.jsx)(U.a.Control,{type:"text",name:"name",placeholder:n("write"),value:i.name,onChange:a,isInvalid:!!r.name}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.name})]}),Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"description",children:[Object(O.jsx)(U.a.Label,{children:n("description")}),Object(O.jsx)(U.a.Control,{as:"textarea",name:"description",rows:3,value:i.description,onChange:a})]}),Object(O.jsx)(A.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferential")})]})}})},We=n(135),Qe=function(e){var t=e.differentials,n=e.selectDifferential,i=e.diffGroupCaseId,r=Object(b.a)().t,s=Object(a.useState)([]),o=Object(c.a)(s,2),d=o[0],u=o[1],l=Object(a.useState)(""),j=Object(c.a)(l,2),f=j[0],h=j[1];return Object(O.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var a=t.filter((function(e){return e.name===d[0]}))[0];n({diffGroupCaseId:i,differentialId:a.id,description:f}),h(""),u([])},children:[Object(O.jsxs)(U.a.Group,{children:[Object(O.jsx)(U.a.Label,{children:r("selectExistingDifferential")}),Object(O.jsx)(We.a,{id:"basic-typeahead-single",labelKey:"name",options:t.map((function(e){return e.name})),placeholder:r("selectDifferential"),onChange:u,selected:d})]}),Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"description",children:[Object(O.jsx)(U.a.Label,{children:r("description")}),Object(O.jsx)(U.a.Control,{as:"textarea",name:"description",rows:3,value:f,onChange:function(e){return h(e.target.value)}})]}),Object(O.jsx)(A.a,{className:"submitButton",type:"submit",children:r("buttonSubmitNewDifferential")})]})},Xe=function(e){var t=e.diffGroupCaseId,n=Object(b.a)().t,r=Object(a.useState)(!1),s=Object(c.a)(r,2),o=s[0],d=s[1],u=Object(a.useState)([]),l=Object(c.a)(u,2),j=l[0],f=l[1];i.a.useEffect((function(){Me().then((function(e){f(e)})).catch((function(e){console.log(e)}))}),[]);var h=function(){return d(!o)},p=function(e){W(e).then((function(){h(),F(n("differentialUpdateSuccess"))})).catch((function(e){console.log(e),h(),V(n("differentialUpdateError"))}))};return Object(O.jsxs)("div",{id:"newDifferential",children:[Object(O.jsx)(A.a,{className:"addButton",onClick:h,id:"addNew",children:n("buttonNewDifferential")}),Object(O.jsxs)(G.a,{show:o,onHide:h,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:n("addDifferential")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsxs)(ge.a,{defaultActiveKey:"select",id:"differentials",className:"mb-3",children:[Object(O.jsx)(Se.a,{eventKey:"select",title:n("selectExisting"),children:Object(O.jsx)(Qe,{differentials:j,selectDifferential:p,diffGroupCaseId:t})}),Object(O.jsx)(Se.a,{eventKey:"add",title:n("addNewDifferential2"),children:Object(O.jsx)(Je,{addDifferential:function(e){Ye({name:e.name}).then((function(n){var a=n[0].id;p({diffGroupCaseId:t,differentialId:a,description:e.description})}))}})})]})})]})]})},$e=function(e){var t=e.diffGroupCaseId,n=e.name,a=e.admin;return Object(O.jsxs)(z.a,{style:{width:"60rem"},children:[Object(O.jsx)(z.a.Header,{children:n}),Object(O.jsxs)(z.a.Body,{children:[Object(O.jsx)(qe,{diffGroupCaseId:t}),a&&Object(O.jsx)(Xe,{diffGroupCaseId:t})]})]})},Ze=function(e){var t=e.caseId,n=e.admin,r=Object(a.useState)([]),s=Object(c.a)(r,2),o=s[0],d=s[1];return i.a.useEffect((function(){Ve(t).then((function(e){d(e)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{"data-testid":"diffGroupList",children:o.map((function(e){return Object(O.jsx)($e,{diffGroupCaseId:e.diffGroupCaseId,name:e.name,admin:n},e.id)}))})},_e="/api/differentialGroups",et=function(){return g.a.get(_e,y()).then((function(e){return e.data}))},tt=function(e){return g.a.post(_e,e,y()).then((function(e){return e.data}))},nt=function(e){var t=e.addDifferentialGroup,n=Object(b.a)().t,a=B.b().shape({name:B.c().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired"))});return Object(O.jsx)(L.a,{initialValues:{name:""},validationSchema:a,onSubmit:function(e){t({name:e.name})},children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.values,r=e.errors;return Object(O.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(O.jsxs)(U.a.Group,{md:"6",controlId:"name",children:[Object(O.jsx)(U.a.Label,{children:n("addDifferentialGroup")}),Object(O.jsx)(U.a.Control,{type:"text",name:"name",placeholder:n("write"),value:i.name,onChange:a,isInvalid:!!r.name}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.name})]}),Object(O.jsx)(A.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferentialGroup")})]})}})},at=function(e){var t=e.differentialGroups,n=e.selectDifferentialGroup,i=e.caseId,r=Object(b.a)().t,s=Object(a.useState)([]),o=Object(c.a)(s,2),d=o[0],u=o[1];return Object(O.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var a=t.filter((function(e){return e.name===d[0]}))[0];n({caseId:i,differentialGroupId:a.id}),u([])},children:[Object(O.jsxs)(U.a.Group,{children:[Object(O.jsx)(U.a.Label,{children:r("selectExistingDifferentialGroup")}),Object(O.jsx)(We.a,{id:"basic-typeahead-single",labelKey:"name",options:t.map((function(e){return e.name})),placeholder:r("selectDifferentialGroup"),onChange:u,selected:d})]}),Object(O.jsx)(A.a,{className:"submitButton",type:"submit",children:r("buttonSubmitNewDifferentialGroup")})]})},it=function(e){var t=e.caseId,n=Object(b.a)().t,r=Object(a.useState)(!1),s=Object(c.a)(r,2),o=s[0],d=s[1],u=Object(a.useState)([]),l=Object(c.a)(u,2),j=l[0],f=l[1];i.a.useEffect((function(){et().then((function(e){f(e)})).catch((function(e){console.log(e)}))}),[]);var h=function(){return d(!o)},p=function(e){Fe(e).then((function(){h(),F(n("differentialGroupUpdateSuccess"))})).catch((function(e){console.log(e),h(),V(n("differentialGroupUpdateError"))}))};return Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{className:"addButton",onClick:h,id:"addNew",children:n("buttonNewDifferentialGroup")}),Object(O.jsxs)(G.a,{show:o,onHide:h,backdrop:"static",keyboard:!1,children:[Object(O.jsx)(G.a.Header,{closeButton:!0,children:Object(O.jsx)(G.a.Title,{children:n("addDifferentialGroup")})}),Object(O.jsx)(G.a.Body,{children:Object(O.jsxs)(ge.a,{defaultActiveKey:"select",id:"differentialGroups",className:"mb-3",children:[Object(O.jsx)(Se.a,{eventKey:"select",title:n("selectExisting"),children:Object(O.jsx)(at,{differentialGroups:j,selectDifferentialGroup:p,caseId:t})}),Object(O.jsx)(Se.a,{eventKey:"add",title:n("addNewDifferential2"),children:Object(O.jsx)(nt,{addDifferentialGroup:function(e){tt({name:e.name}).then((function(e){var n=e[0].id;p({caseId:t,differentialGroupId:n})}))}})})]})})]})]})},rt=function(e){var t=e.admin,n=Object(b.a)().t,a=Object(P.h)().id;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)("h2",{children:n("Differentials")}),t&&Object(O.jsx)("div",{children:Object(O.jsx)(it,{caseId:a})}),Object(O.jsx)(Ze,{caseId:a,admin:t})]})},st=function(e){var t=e.c,n=e.hideCase,i=Object(b.a)().t,r=Object(a.useState)(t.hidden),s=Object(c.a)(r,2),o=s[0],d=s[1];return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({title:t.title,anamnesis:t.anamnesis,hidden:o})},children:[Object(O.jsx)("label",{htmlFor:"submit",className:"hidden",children:i(o?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")}),Object(O.jsx)("input",{id:"submitHide",className:"hideCase",type:"submit",onClick:function(){d(!o)},size:"sm",value:i(o?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")})]})})},ct=function(e){var t=e.c,n=e.updateCaseTitle,i=Object(b.a)().t,r=Object(a.useState)(t.title),s=Object(c.a)(r,2),o=s[0],d=s[1],u=B.b().shape({title:B.c().min(2,i("warningShort")).max(999,i("warningLong")).required(i("warningRequired"))});return Object(O.jsx)(L.a,{initialValues:{title:o},validationSchema:u,onSubmit:function(e){n({title:e.title,anamnesis:t.anamnesis,hidden:t.hidden}),d(e.title)},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.values,r=e.errors;return Object(O.jsx)(U.a,{noValidate:!0,onSubmit:t,children:Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"updateTitle",style:{width:"30rem"},children:[Object(O.jsx)(U.a.Control,{className:"titleChangeInput",type:"text",name:"title",value:a.title,onChange:n,isInvalid:!!r.title}),Object(O.jsx)(U.a.Text,{className:"text-muted",children:i("caseTitleInstruction")}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.title})]})})}})},ot=function(e){var t=e.c,n=e.updateAnamnesis,i=Object(b.a)().t,r=Object(a.useState)(t.anamnesis),s=Object(c.a)(r,2),o=s[0],d=s[1],u=B.b().shape({anamnesis:B.c().min(2,i("warningShort")).max(5e3,i("warningLong")).required(i("warningRequired"))});return Object(O.jsx)(L.a,{initialValues:{anamnesis:o},validationSchema:u,onSubmit:function(e){n({title:t.title,anamnesis:e.anamnesis,hidden:t.hidden}),d(e.anamnesis)},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.values,r=e.errors;return Object(O.jsx)(U.a,{noValidate:!0,onSubmit:t,children:Object(O.jsxs)(U.a.Group,{className:"mb-3",controlId:"updateAnamnesis",style:{width:"30rem"},children:[Object(O.jsx)(U.a.Control,{type:"text",name:"anamnesis",value:a.anamnesis,onChange:n,isInvalid:!!r.anamnesis}),Object(O.jsx)(U.a.Text,{className:"text-muted",children:i("caseAnamnesisInstruction")}),Object(O.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.anamnesis})]})})}})},dt=function(e){var t=e.cases,n=e.admin,i=Object(b.a)().t,r=Object(P.h)().id,s=t.find((function(e){return e.id===Number(r)})),o=Object(a.useState)(s),d=Object(c.a)(o,2),u=(d[0],d[1]),l=function(e){N(s.id,e).then((function(){u(e),F(i("caseUpdateSuccess"))})).catch((function(e){console.log(e),V(i("caseUpdateError"))}))};return Object(O.jsxs)("div",{id:"wrapper",children:[n&&s&&Object(O.jsxs)("div",{className:"rows",children:[Object(O.jsx)(ct,{c:s,updateCaseTitle:l}),Object(O.jsx)(ot,{c:s,updateAnamnesis:l}),Object(O.jsx)(st,{c:s,hideCase:l})]}),!n&&s&&Object(O.jsx)("p",{children:s.title}),s&&Object(O.jsx)("div",{className:"anamnesis",children:Object(O.jsx)("p",{children:s.anamnesis})})]})},ut=function(){var e=Object(b.a)().t;return Object(O.jsx)("div",{id:"wrapper",children:Object(O.jsx)("h2",{children:e("fileBank")})})},lt=function(e){var t=e.admin,n=e.cases;return Object(O.jsxs)(P.d,{children:[Object(O.jsx)(P.b,{path:"/howtoplay",children:Object(O.jsx)(ie,{})}),Object(O.jsx)(P.b,{path:"/profile",children:Object(O.jsx)(re,{})}),Object(O.jsx)(P.b,{path:"/users",children:t?Object(O.jsx)(se,{}):Object(O.jsx)(P.a,{to:"/"})}),Object(O.jsxs)(P.b,{path:"/cases/:id/procedures",children:[Object(O.jsx)(oe,{cases:n,admin:t}),Object(O.jsx)(xe,{admin:t})]}),Object(O.jsx)(P.b,{path:"/cases/:id/procedure/:id",children:Object(O.jsx)(Re,{admin:t})}),Object(O.jsxs)(P.b,{path:"/cases/:id/differentials",children:[Object(O.jsx)(oe,{cases:n,admin:t}),Object(O.jsx)(rt,{admin:t})]}),Object(O.jsxs)(P.b,{path:"/cases/:id",children:[Object(O.jsx)(oe,{cases:n,admin:t}),Object(O.jsx)(dt,{cases:n,admin:t})]}),Object(O.jsx)(P.b,{path:"/files",children:t?Object(O.jsx)(ut,{}):Object(O.jsx)(P.a,{to:"/"})}),Object(O.jsx)(P.b,{path:"/",children:Object(O.jsx)(ae,{admin:t,cases:n})})]})},jt=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),d=Object(c.a)(s,2),u=d[0],l=d[1],j=Object(a.useState)([]),b=Object(c.a)(j,2),f=b[0],h=b[1];return i.a.useEffect((function(){w().then((function(e){var t;console.log(e),t=e.user.token,S="bearer ".concat(t),l(e.user.admin),r(e.user.name),h(e.data),console.log(n)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(x,{user:!1,admin:u,cases:f}),Object(O.jsx)(T,{}),Object(O.jsx)(K,{}),Object(O.jsx)(lt,{cases:f,admin:u})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(O.jsx)(jt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[340,1,2]]]);
//# sourceMappingURL=main.a844bd4f.chunk.js.map