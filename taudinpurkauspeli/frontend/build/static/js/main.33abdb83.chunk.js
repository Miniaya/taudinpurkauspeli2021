(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{139:function(e,t,a){},141:function(e){e.exports=JSON.parse('{"addCase":"Lis\xe4\xe4 case","addDisease":"Lis\xe4\xe4 tauti","buttonEdit":"Muokkaa","buttonHideCaseFromStudents":"Piilota case opiskelijoilta","buttonShowCaseToStudents":"N\xe4yt\xe4 case opiskelijoille","buttonNewCase":"+ Lis\xe4\xe4 uusi case","buttonPlay":"Pelaa","buttonRemove":"Poista","buttonRemoveAll":"Poista kaikki","buttonSearch":"Etsi","buttonSelectCase":"Valitse case:","buttonSubmitNewCase":"Lis\xe4\xe4 case","buttonSubmitNewDisease":"Lis\xe4\xe4","buttonUpdate":"P\xe4ivit\xe4","caseAnamnesis":"Anamneesi","caseDifferentials":"Diffit","caseHidden":"Opiskelijoilta piilotetut caset","casePlayable":"Pelattavissa olevat caset","caseProcedures":"Toimenpiteet","caseTitle":"Casen nimi","caseUpdateSuccess":"Case p\xe4ivitetty onnistuneesti","caseTitleInstruction":"Muokattuasi otsikkoa, paina Enteria tallentaaksesi muutokset","cases":"Caset","category":"Kategoria","clickTheDisease":"Klikkaa tautia","copy":"Kopioi","description":"Kuvaus","deleteCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n casen?","disease":"Tauti","diseaseAdded":"Tauti lis\xe4tty","diseases":"Taudit","edit":"Muokkaa","editCase":"Edit case","fileBank":"Tiedostopankki","frontpageTitle":"Etusivu","frontpageText":"Tervetuloa! \\n\\n Valitse alta case, jota haluat pelata. Peliohjeet l\xf6ytyv\xe4t navigointipalkista.","guest":"vierailija","GuestFrontpageText":"T\xe4m\xe4 on el\xe4inl\xe4\xe4ketieteellisen tiedekunnan epidemiologian kurssin taudinpurkauspelin etusivu. \\n Peliohjeet l\xf6ytyv\xe4t peliohjeet-linkin takaa. Mik\xe4li haluat pelata peli\xe4, kirjaudu sis\xe4\xe4n yliopiston k\xe4ytt\xe4j\xe4tunnuksilla!","GuestFrontpageTitle":"Tervetuloa taudinpurkauspelin pariin!","hideCase":"Piilota opiskelijoilta","howToPlay":"Peliohjeet","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"Tautilista","logIn":"Kirjaudu sis\xe4\xe4n","logOut":"Kirjaudu ulos","nameOfTheGame":"Taudinpurkauspeli","searchByTitle":"Etsi nimell\xe4","selectLanguage":"Valitse kieli","selectUser":"Valitse k\xe4ytt\xe4j\xe4muoto","student":"opiskelija","teacher":"opettaja","title":"Nimi","userInformation":"K\xe4ytt\xe4jien seuranta","userProfile":"K\xe4ytt\xe4j\xe4tiedot","warningShort":"Liian lyhyt","warningLong":"Liian pitk\xe4","warningRequired":"Vaadittu tieto"}')},142:function(e){e.exports=JSON.parse('{"addCase":"Add case","addDisease":"Add disease","buttonEdit":"Edit","buttonHideCaseFromStudents":"Hide case from students","buttonShowCaseToStudents":"Show case to students","buttonNewCase":"+ Add new case","buttonPlay":"Play","buttonRemove":"Remove","buttonRemoveAll":"Remove all","buttonSearch":"Search","buttonSelectCase":"Select case:","buttonSubmitNewCase":"Add case","buttonSubmitNewDisease":"Submit","buttonUpdate":"Update","caseAnamnesis":"Anamnesis","caseDifferentials":"Differentials","caseHidden":"Cases hidden from students","casePlayable":"Playable cases","caseProcedures":"Procedures","caseTitle":"Case title","caseTitleInstruction":"After editing the title, press Enter to save","caseUpdateSuccess":"Case updated successfully","cases":"Cases","category":"Category","clickTheDisease":"Click the disease","copy":"Copy","description":"Description","deleteCaseConfirmation":"Are you sure you want to delete this case?","disease":"Disease","diseases":"Diseases","diseaseAdded":"Disease added","edit":"Edit","editCase":"Edit case","fileBank":"Filebank","frontpageText":"Welcome! \\n \\n Select the case you want to play. The game instructions can be found in navigation bar.","frontpageTitle":"Front page","guest":"guest","GuestFrontpageText":"This is the veterinary faculty\'s epidemiology courses taudinpurkaus-games frontpage. \\n The instructions can be found behind the game instructions link. If you want to play the game, sign in with your university log-in details!","GuestFrontpageTitle":"Welcome to Taudinpurkauspeli!","hideCase":"Hide from students","howToPlay":"How to play","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"List of diseases","logIn":"Log in","logOut":"Log out","nameOfTheGame":"Taudinpurkauspeli","searchByTitle":"Search by title","selectLanguage":"Select language","selectUser":"Select user in charge","student":"student","teacher":"teacher","title":"Title","userInformation":"Users","userProfile":"Profile","warningShort":"Too short","warningLong":"Too long","warningRequired":"Required information"}')},272:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(31),c=a.n(s),r=a(7),o=a(13),l=(a(139),a(140),a(8)),d=a(280),u=a(281),j=a(278),b=a(74),h=a(283),O=a(52),m=a(50),x=a(121);O.a.use(x.a).init(),O.a.use(m.e).init({fallbackLng:"fi",lng:localStorage.getItem("i18nextLng")||"fi",resources:{fi:{translations:a(141)},en:{translations:a(142)}},ns:["translations"],defaultNS:"translations"}),O.a.languages=["fi","en"];var p=O.a,f=a(1),g=function(e){var t=e.user,a=e.admin,n=e.guest,i=e.changeUser,s=e.changeAdmin,c=e.changeGuest,o=Object(h.a)().t,l=function(e){p.changeLanguage(e)};return Object(f.jsxs)(d.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",sticky:"top",children:[Object(f.jsx)(d.a.Brand,{as:r.b,to:"/",children:o("nameOfTheGame")}),Object(f.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(f.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(f.jsxs)(u.a,{className:"ml-auto",children:[Object(f.jsxs)(j.a,{title:o("selectUser"),children:[Object(f.jsx)(j.a.Item,{onClick:function(){return c()},eventKey:"guest",children:o("guest")}),Object(f.jsx)(j.a.Item,{onClick:function(){return i()},eventKey:"student",children:o("student")}),Object(f.jsx)(j.a.Item,{onClick:function(){return s()},eventKey:"teacher",children:o("teacher")})]}),Object(f.jsxs)(j.a,{title:o("selectLanguage"),children:[Object(f.jsx)(j.a.Item,{onClick:function(){return l("fi")},eventKey:"fi",children:o("languageFinnish")}),Object(f.jsx)(j.a.Item,{onClick:function(){return l("en")},eventKey:"en",children:o("languageEnglish")})]}),a&&Object(f.jsx)(u.a.Item,{children:Object(f.jsx)(b.a,{as:r.b,to:"/users",children:o("userInformation")})}),a&&Object(f.jsx)(u.a.Item,{children:Object(f.jsx)(b.a,{as:r.b,to:"/files",children:o("fileBank")})}),(t||n||a)&&Object(f.jsx)(u.a.Item,{children:Object(f.jsx)(b.a,{as:r.b,to:"/howtoplay",children:o("howToPlay")})}),t&&Object(f.jsx)(u.a.Item,{children:Object(f.jsx)(b.a,{as:r.b,to:"/profile",children:o("userProfile")})}),Object(f.jsx)(u.a.Item,{children:t||a?Object(f.jsx)(b.a,{as:r.b,to:"/logout",children:o("logOut")}):Object(f.jsx)(b.a,{as:r.b,to:"/login",children:o("logIn")})})]})})]})},v=a(51),y=a.n(v),C="http://localhost:8080/api/cases",k=function(){return y.a.get(C).then((function(e){return e.data}))},T=function(e){return y.a.post(C,e).then((function(e){return e.data}))},w=function(e,t){return y.a.put("".concat(C,"/").concat(e),t)},S=function(e){return y.a.delete("".concat(C,"/").concat(e)).then((function(e){return e.data}))},P=a(128),N=a(277),I=a(129),F=a(284),L=a(285),D=function(e){var t=e.caseToBeRemoved,a=e.removeCaseFunc,n=Object(h.a)().t;return Object(f.jsx)(P.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(e){(e.preventDefault(),null!=a)?(a(t.id),t.id=null,a(t.id)):!0===window.confirm(n("deleteCaseConfirmation"))&&S(t.id).then((function(e){return e.message}))},children:n("buttonRemove")})},E=function(e){var t=e.c,a=e.admin,n=Object(h.a)().t;return Object(f.jsxs)("div",{children:[Object(f.jsxs)(F.a,{as:r.b,to:"/cases/".concat(t.id),style:{width:"20rem",cursor:"pointer"},className:"caseCard",children:[Object(f.jsxs)(F.a.Body,{children:[Object(f.jsx)(F.a.Title,{children:t.title}),Object(f.jsx)(F.a.Text,{children:t.anamnesis})]}),Object(f.jsx)(F.a.Footer,{children:Object(f.jsx)(L.a,{className:"progsbar",variant:"success",now:25,label:"".concat(25,"%")})})]}),a&&Object(f.jsxs)("div",{className:"cardButtons",children:[Object(f.jsx)(P.a,{as:r.b,to:"/cases/".concat(t.id),className:"editButton",size:"sm",children:n("buttonEdit")}),Object(f.jsx)(P.a,{className:"copyButton",size:"sm",variant:"warning",children:n("copy")}),Object(f.jsx)(D,{caseToBeRemoved:t})]})]})},A=function(e){var t=e.cases,a=e.admin,n=Object(h.a)().t;return Object(f.jsxs)("div",{id:"wrapper",children:[Object(f.jsx)("h2",{children:n("frontpageTitle")}),Object(f.jsx)("p",{children:n("frontpageText")}),a&&Object(f.jsxs)("div",{children:[Object(f.jsx)(P.a,{as:r.b,to:"/newcase",children:n("buttonNewCase")}),Object(f.jsx)("br",{}),Object(f.jsx)("h3",{children:n("caseHidden")}),Object(f.jsx)("hr",{})]}),Object(f.jsx)(N.a,{xs:"auto",md:"auto",className:"g-4",children:a&&t.filter((function(e){return e.hidden})).map((function(e){return Object(f.jsx)(I.a,{children:Object(f.jsx)(E,{c:e,admin:a})},e.id)}))}),Object(f.jsx)("br",{}),Object(f.jsx)("h3",{children:n("casePlayable")}),Object(f.jsx)("hr",{}),Object(f.jsx)(N.a,{xs:"auto",md:"auto",className:"g-4",children:t.filter((function(e){return!e.hidden})).map((function(e){return Object(f.jsx)(I.a,{children:Object(f.jsx)(E,{c:e,admin:a})},e.id)}))})]})},B=function(){var e=Object(h.a)().t;return Object(f.jsxs)("div",{id:"wrapper",children:[Object(f.jsx)("h2",{children:e("GuestFrontpageTitle")}),Object(f.jsx)("p",{children:e("GuestFrontpageText")})]})},G=function(){return Object(f.jsx)("div",{id:"sidebar"})},R=function(){var e=Object(h.a)().t;return Object(f.jsx)("div",{id:"wrapper",children:Object(f.jsx)("h2",{children:e("howToPlay")})})},H=function(){var e=Object(h.a)().t;return Object(f.jsx)("div",{id:"wrapper",children:Object(f.jsx)("h2",{children:e("userProfile")})})},K=a(282),U=a(279),V=a(72),q=a(33),J=function(e){var t=e.caseToBeHidden,a=e.hideCaseFunc,i=t,s=!1;null==a&&(s=i.hidden);var c=Object(n.useState)(s),r=Object(o.a)(c,2),l=r[0],d=r[1],u=Object(h.a)().t;return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:i.title,anamnesis:i.anamnesis,hidden:l};null!=a?a(t):w(i.id,t)},className:"buttonLeft",children:[Object(f.jsx)("label",{htmlFor:"submit",className:"hidden",children:u(l?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")}),Object(f.jsx)("input",{type:"submit",onClick:function(){d(!l)},id:"submit",value:u(l?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")})]})})},M=function(e){var t=e.c,a=e.admin,i=e.updateCaseFunc,s=Object(n.useState)(t.title),c=Object(o.a)(s,2),r=c[0],l=c[1],d=Object(n.useState)(null),u=Object(o.a)(d,2),j=u[0],b=u[1],O=Object(h.a)().t,m=q.b().shape({title:q.c().min(2,O("warningShort")).max(999,O("warningLong")).required(O("warningRequired"))});return Object(f.jsxs)("div",{children:[null!==j&&Object(f.jsx)(K.a,{variant:"success",children:j}),Object(f.jsx)("p",{children:"Casen tiedot l\xf6ytyv\xe4t t\xe4\xe4lt\xe4"}),a&&Object(f.jsxs)("div",{children:[Object(f.jsx)(V.a,{initialValues:{title:r},validationSchema:m,onSubmit:function(e){var a={title:e.title,anamnesis:t.anamnesis,hidden:t.hidden};void 0!==i?i(a):(w(t.id,a),l(e.title),b(O("caseUpdateSuccess")),setTimeout((function(){b(null)}),5e3))},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.values,i=e.errors;return Object(f.jsx)(U.a,{noValidate:!0,onSubmit:t,children:Object(f.jsxs)(U.a.Group,{className:"mb-3",controlId:"updateTitle",children:[Object(f.jsx)(U.a.Control,{type:"text",name:"title",value:n.title,onChange:a,isInvalid:!!i.title}),Object(f.jsx)(U.a.Text,{className:"text-muted",children:O("caseTitleInstruction")}),Object(f.jsx)(U.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:i.title})]})})}}),Object(f.jsx)(J,{caseToBeHidden:t})]}),!a&&Object(f.jsx)("p",{children:t.title}),Object(f.jsx)("p",{children:t.anamnesis})]})},W=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Toimenpiteet l\xf6ytyv\xe4t t\xe4\xe4lt\xe4"})})},z=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Diffit l\xf6ytyv\xe4t t\xe4\xe4lt\xe4"})})},$=function(e){var t=e.cases,a=e.admin,n=e.updateCaseFunc,i=Object(l.g)().id,s=t.find((function(e){return e.id===Number(i)})),c="/cases/".concat(i),o=Object(h.a)().t;return Object(f.jsx)(r.a,{children:Object(f.jsxs)("div",{id:"wrapper",children:[Object(f.jsx)(P.a,{as:r.b,to:c,children:o("caseAnamnesis")}),Object(f.jsx)(P.a,{as:r.b,to:"".concat(c,"/procedures"),children:o("caseProcedures")}),Object(f.jsx)(P.a,{as:r.b,to:"".concat(c,"/differentials"),children:o("caseDifferentials")}),Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"".concat(c,"/procedures"),children:Object(f.jsx)(W,{})}),Object(f.jsx)(l.a,{path:"".concat(c,"/differentials"),children:Object(f.jsx)(z,{})}),Object(f.jsx)(l.a,{path:c,children:Object(f.jsx)(M,{c:s,admin:a,updateCaseFunc:n})})]})]})})},Q=function(e){var t=e.addCaseFunc,a=Object(h.a)().t,n=Object(l.f)(),i=q.b().shape({title:q.c().min(2,a("warningShort")).max(999,a("warningLong")).required(a("warningRequired")),anamnesis:q.c(),hidden:q.a()});return Object(f.jsxs)("div",{id:"wrapper",children:[Object(f.jsx)("h2",{children:a("addCase")}),Object(f.jsx)(V.a,{initialValues:{title:"",anamnesis:"",hidden:!1},validationSchema:i,onSubmit:function(e){var a={title:e.title,anamnesis:e.anamnesis,hidden:e.hidden};void 0!==t?t(a):(T(a),n.push("/"))},children:function(e){var t=e.handleSubmit,n=e.handleChange,i=e.values,s=e.errors;return Object(f.jsxs)(U.a,{noValidate:!0,onSubmit:t,children:[Object(f.jsxs)(U.a.Group,{md:"6",controlId:"title",children:[Object(f.jsx)(U.a.Label,{children:a("caseTitle")}),Object(f.jsx)(U.a.Control,{type:"text",name:"title",value:i.title,onChange:n,isInvalid:!!s.title}),Object(f.jsx)(U.a.Control.Feedback,{type:"invalid",children:s.title})]}),Object(f.jsxs)(U.a.Group,{className:"mb-3",controlId:"anamnesis",children:[Object(f.jsx)(U.a.Label,{children:a("caseAnamnesis")}),Object(f.jsx)(U.a.Control,{as:"textarea",name:"anamnesis",rows:3,value:i.anamnesis,onChange:n})]}),Object(f.jsx)(U.a.Group,{className:"mb-3",controlId:"hidden",children:Object(f.jsx)(U.a.Check,{required:!0,name:"hidden",label:a("hideCase"),value:i.hidden,onChange:n})}),Object(f.jsx)(P.a,{type:"submit",children:a("buttonSubmitNewCase")})]})}})]})},X=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),d=Object(o.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)(!0),h=Object(o.a)(b,2),O=h[0],m=h[1],x=Object(n.useState)([]),p=Object(o.a)(x,2),v=p[0],y=p[1];return i.a.useEffect((function(){k().then((function(e){y(e)})).catch((function(e){console.log(e)}))}),[]),Object(f.jsxs)(r.a,{children:[Object(f.jsx)(g,{user:a,admin:u,guest:O,changeUser:function(){s(!0),m(!1),j(!1)},changeAdmin:function(){s(!1),m(!1),j(!0)},changeGuest:function(){s(!1),m(!0),j(!1)},cases:v}),O?" ":Object(f.jsx)(G,{}),Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/howtoplay",children:Object(f.jsx)(R,{})}),Object(f.jsx)(l.a,{path:"/profile",children:Object(f.jsx)(H,{})}),Object(f.jsx)(l.a,{path:"/cases/:id",children:Object(f.jsx)($,{cases:v})}),u&&Object(f.jsx)(l.a,{path:"/editcase/:id",children:Object(f.jsx)(J,{cases:v})}),u&&Object(f.jsx)(l.a,{path:"/newcase",children:Object(f.jsx)(Q,{})}),Object(f.jsx)(l.a,{path:"/",children:O?Object(f.jsx)(B,{}):Object(f.jsx)(A,{admin:u,cases:v})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(f.jsx)(r.a,{children:Object(f.jsx)(X,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[272,1,2]]]);
//# sourceMappingURL=main.33abdb83.chunk.js.map