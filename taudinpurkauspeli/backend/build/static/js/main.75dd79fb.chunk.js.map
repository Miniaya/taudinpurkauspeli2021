{"version":3,"sources":["i18n/config.js","components/navigation/Navbar.js","services/cases.js","components/navigation/Sidebar.js","components/case/NewCaseForm.js","components/utils/MessageBanner.js","components/case/NewCase.js","components/case/RemoveCase.js","services/differentials/differentialsUnderCases.js","services/proceduresUnderCase.js","components/case/CopyCase.js","components/case/CaseCard.js","components/frontpage/Search.js","components/frontpage/Frontpage.js","components/instructions/HowToPlay.js","components/user/Profile.js","components/case/Case.js","services/procedures.js","components/procedure/NewProcedure.js","components/procedure/EditProcedure.js","components/procedure/ProcedureList.js","components/procedure/Procedures.js","services/differentials/differentialGroupsUnderCases.js","components/differential/Differential.js","components/differential/DifferentialList.js","services/differentials/differentials.js","components/differential/AddDifferentialForm.js","components/differential/SelectDifferentialForm.js","components/differential/NewDifferential.js","components/differential/differentialGroup/DifferentialGroup.js","components/differential/differentialGroup/DifferentialGroupList.js","services/differentials/differentialGroups.js","components/differential/differentialGroup/AddDifferentialGroupForm.js","components/differential/differentialGroup/SelectDifferentialGroupForm.js","components/differential/differentialGroup/NewDifferentialGroup.js","components/differential/Differentials.js","components/case/HideCase.js","components/case/UpdateCaseTitle.js","components/anamnesis/Anamnesis.js","components/navigation/Routing.js","App.js","serviceWorker.js","index.js"],"names":["i18n","use","LanguageDetector","init","initReactI18next","fallbackLng","lng","localStorage","getItem","resources","fi","translations","require","en","ns","defaultNS","languages","Navigationbar","user","admin","t","useTranslation","changeLanguage","language","Navbar","collapseOnSelect","expand","variant","sticky","Brand","as","Link","to","Toggle","Collapse","id","Nav","className","NavDropdown","title","Item","onClick","eventKey","NavLink","baseUrl","token","axios","get","then","response","data","newObject","config","headers","Authorization","post","put","delete","Sidebar","newCase","addCase","newCaseSchema","Yup","shape","min","max","required","anamnesis","hidden","initialValues","validationSchema","onSubmit","values","handleSubmit","handleChange","errors","Form","noValidate","Group","md","controlId","Label","Control","type","name","value","onChange","isInvalid","Feedback","rows","Check","label","Button","setError","message","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setSuccess","success","MessageBanner","newestOnTop","rtl","pauseOnFocusLoss","NewCase","useState","show","setShow","toggleVisibility","Modal","onHide","backdrop","keyboard","Header","closeButton","Title","Body","NewCaseForm","service","catch","console","log","removeCase","caseToBeRemoved","removeCaseFunc","size","event","preventDefault","window","confirm","diffGroupCaseId","caseId","copyCase","caseToBeCopied","createProcedures","createDifferentials","oldCaseId","newCopyId","caseObject","caseService","copy","ducService","result","pucService","CaseCard","c","Card","style","width","cursor","Text","Footer","ProgressBar","now","CopyCase","copyId","i","length","description","differentialId","procedureId","priority","RemoveCase","Search","newSearch","searchCases","htmlFor","Frontpage","cases","setNewSearch","casesToShow","filter","toLowerCase","includes","target","Row","xs","map","Col","HowToPlay","Profile","Case","useParams","newProcedure","addProcedureFunc","newTitle","setNewTitle","addProcedure","a","procedureObject","receivedID","serviceUnderCases","EditProcedure","procedure","editProcedureFunc","proceduresUnderCase","setNewPriority","setNewProcedureTitle","history","useHistory","e","procedureUnderCaseObject","serviceUnderProcedure","push","editProcedure","defaultValue","DragNDropList","proceduresHook","handleDragStart","handleDragEnd","handleDragEnter","submitForm","p","index","onDragStart","onDragEnd","onDragEnter","ProcedureList","draggingItem","useRef","dragOverItem","setProceduresHook","procedureToEdit","setProcedureToEdit","useEffect","procedureList","list","procedures","sort","b","current","givenProcedure","dragDropEditProcedure","listCopy","draggingItemContent","splice","handleEditId","Procedures","NewProcedure","Differential","Accordion","DifferentialList","caseDifferentials","setCaseDifferentials","React","initialDifferentials","d","AddDifferentialForm","addDifferential","newDifferentialSchema","placeholder","role","SelectDifferentialForm","differentials","selectDifferential","selectedDiff","setSelectedDiff","setDescription","differential","labelKey","options","selected","NewDifferential","setDifferentials","handleDifferentialSelection","ducObject","Tabs","defaultActiveKey","Tab","differentialObject","res","DifferentialGroup","DifferentialGroupList","caseDifferentialGroups","setCaseDifferentialGroups","initialDifferentialGroups","AddDifferentialGroupForm","addDifferentialGroup","newDifferentialGroupSchema","SelectDifferentialGroupForm","differentialGroups","selectDifferentialGroup","differentialGroup","differentialGroupId","NewDifferentialGroup","setDifferentialGroups","handleDifferentialGroupSelection","differentialGroupObject","Differentials","HideCase","hideCase","newHidden","setNewHidden","UpdateCaseTitle","updateCaseTitle","setTitle","caseSchema","Anamnesis","find","Number","setCurrentCase","handleCaseUpdate","updatedCase","Routing","path","App","setUser","setAdmin","setCases","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.75dd79fb.chunk.js","sourcesContent":["/* eslint-disable linebreak-style */\n/* istanbul ignore file */\n/* eslint-disable linebreak-style */\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n// eslint-disable-next-line import/no-unresolved\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n.use(LanguageDetector).init();\n\ni18n.use(initReactI18next).init({\n  fallbackLng: 'fi',\n\n  // eslint-disable-next-line no-undef\n  lng: localStorage.getItem('i18nextLng') || 'fi',\n  resources: {\n    fi: {\n      // eslint-disable-next-line global-require\n      translations: require('./locales/fi/translations.json'),\n    },\n    en: {\n      // eslint-disable-next-line global-require\n      translations: require('./locales/en/translations.json'),\n    },\n  },\n  ns: ['translations'],\n  defaultNS: 'translations',\n});\n\ni18n.languages = ['fi', 'en'];\n\nexport default i18n;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Navbar,\n  Nav,\n  NavLink,\n  NavDropdown,\n} from 'react-bootstrap';\n\n// Import translations\nimport { useTranslation } from 'react-i18next';\nimport i18n from '../../i18n/config';\n\nconst Navigationbar = ({\n  user, admin,\n}) => {\n  const { t } = useTranslation();\n\n  /* istanbul ignore next */\n  const changeLanguage = (language) => {\n    i18n.changeLanguage(language);\n  };\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" variant=\"dark\" sticky=\"top\">\n      <Navbar.Brand as={Link} to=\"/\">{t('nameOfTheGame')}</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\n        <Nav className=\"ml-auto\">\n          <NavDropdown title={t('selectLanguage')}>\n            <NavDropdown.Item onClick={() => changeLanguage('fi')} eventKey=\"fi\">{t('languageFinnish')}</NavDropdown.Item>\n            <NavDropdown.Item onClick={() => changeLanguage('en')} eventKey=\"en\">{t('languageEnglish')}</NavDropdown.Item>\n          </NavDropdown>\n          { admin && (\n          <Nav.Item>\n            <NavLink as={Link} to=\"/users\">{t('userInformation')}</NavLink>\n          </Nav.Item>\n          )}\n          { admin && (\n          <Nav.Item>\n            <NavLink as={Link} to=\"/files\">{t('fileBank')}</NavLink>\n          </Nav.Item>\n          )}\n          <Nav.Item>\n            <NavLink as={Link} to=\"/howtoplay\">{t('howToPlay')}</NavLink>\n          </Nav.Item>\n          { user && (\n          <Nav.Item>\n            <NavLink as={Link} to=\"/profile\">{t('userProfile')}</NavLink>\n          </Nav.Item>\n          )}\n          <Nav.Item>\n            <NavLink as={Link} to=\"/Shibboleth.sso/Logout\">{t('logOut')}</NavLink>\n          </Nav.Item>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Navigationbar;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/cases';\n\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n  const request = axios.post(baseUrl, newObject, config);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n  setToken,\n};\n","/* eslint-disable linebreak-style */\nimport React from 'react';\n\nconst Sidebar = () => (\n  <div id=\"sidebar\" />\n);\n\nexport default Sidebar;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Button } from 'react-bootstrap';\n\nconst newCase = ({ addCase }) => {\n  const { t } = useTranslation();\n\n  const newCaseSchema = Yup.object().shape({\n    title: Yup.string()\n      .min(2, t('warningShort'))\n      .max(999, t('warningLong'))\n      .required(t('warningRequired')),\n    anamnesis: Yup.string(),\n    hidden: Yup.bool(),\n  });\n\n  const handleCaseAdd = (values) => {\n    addCase({\n      title: values.title,\n      anamnesis: values.anamnesis,\n      hidden: values.hidden,\n    });\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        title: '',\n        anamnesis: '',\n        hidden: false,\n      }}\n      validationSchema={newCaseSchema}\n      onSubmit={handleCaseAdd}\n    >\n      {({\n        handleSubmit,\n        handleChange,\n        values,\n        errors,\n      }) => (\n        <Form noValidate onSubmit={handleSubmit}>\n          <Form.Group md=\"6\" controlId=\"title\">\n            <Form.Label>{t('caseTitle')}</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"title\"\n              value={values.title}\n              onChange={handleChange}\n              isInvalid={!!errors.title}\n            />\n            <Form.Control.Feedback type=\"invalid\">\n              {errors.title}\n            </Form.Control.Feedback>\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"anamnesis\">\n            <Form.Label>{t('caseAnamnesis')}</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              name=\"anamnesis\"\n              rows={3}\n              value={values.anamnesis}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"hidden\">\n            <Form.Check\n              required\n              name=\"hidden\"\n              label={t('hideCase')}\n              value={values.hidden}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Button type=\"submit\">{t('buttonSubmitNewCase')}</Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default newCase;\n","/* eslint-disable linebreak-style */\n/* eslint-disable no-undef */\nimport React from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst MessageBanner = () => (\n  <ToastContainer\n    position=\"top-center\"\n    autoClose={3000}\n    hideProgressBar\n    newestOnTop={false}\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss={false}\n    draggable={false}\n    pauseOnHover\n  />\n);\n\nexport const setError = (message) => {\n  toast.error(message, {\n    position: 'top-center',\n    autoClose: 3000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: false,\n    draggable: false,\n    progress: undefined,\n  });\n};\n\nexport const setSuccess = (message) => {\n  toast.success(message, {\n    position: 'top-center',\n    autoClose: 3000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: false,\n    draggable: false,\n    progress: undefined,\n  });\n};\n\nexport default MessageBanner;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Button, Modal,\n} from 'react-bootstrap';\n\nimport service from '../../services/cases';\nimport NewCaseForm from './NewCaseForm';\nimport { setSuccess, setError } from '../utils/MessageBanner';\n\nconst NewCase = () => {\n  const { t } = useTranslation();\n\n  const [show, setShow] = useState(false);\n\n  const toggleVisibility = () => setShow(!show);\n\n  /* istanbul ignore next */\n  const handleCaseAdd = (newCase) => {\n    service.create(newCase)\n      .then(() => {\n        toggleVisibility();\n        setSuccess(t('caseAddSuccess'));\n      })\n      .catch((error) => {\n        // eslint-disable-next-line no-console\n        console.log(error);\n        toggleVisibility();\n        setError(t('caseAddError'));\n      });\n  };\n\n  return (\n    <div>\n      <Button variant=\"primary\" onClick={toggleVisibility} id=\"addNew\">\n        {t('buttonNewCase')}\n      </Button>\n      <Modal\n        show={show}\n        onHide={toggleVisibility}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{t('addCase')}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <NewCaseForm addCase={handleCaseAdd} />\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default NewCase;\n","/* eslint-disable linebreak-style */\n/* eslint-disable react/react-in-jsx-scope */\nimport { Button } from 'react-bootstrap';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport service from '../../services/cases';\n\nconst removeCase = ({ caseToBeRemoved, removeCaseFunc }) => {\n  const { t } = useTranslation();\n\n  const handleDelete = (event) => {\n    event.preventDefault();\n\n    /* istanbul ignore else */\n    if (removeCaseFunc != null) {\n      removeCaseFunc(caseToBeRemoved.id);\n      // eslint-disable-next-line no-param-reassign\n      caseToBeRemoved.id = null;\n      removeCaseFunc(caseToBeRemoved.id);\n    } else {\n      // eslint-disable-next-line no-alert\n      const confirmBox = window.confirm(t('deleteCaseConfirmation'));\n      if (confirmBox === true) {\n        service.remove(caseToBeRemoved.id)\n          .then((response) => (response.message));\n      }\n    }\n  };\n\n  return (\n    <Button className=\"removeButton\" size=\"sm\" variant=\"danger\" onClick={handleDelete}>{t('buttonRemove')}</Button>\n  );\n};\n\nexport default removeCase;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/differentialsUnderCases';\n\nconst getAll = (diffGroupCaseId) => {\n  const request = axios.get(`${baseUrl}/${diffGroupCaseId}`);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\n\nexport default {\n  getAll,\n  create,\n  update,\n};\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/proceduresUnderCases';\n\nconst getAll = (caseId) => {\n  const request = axios.get(`${baseUrl}/${caseId}`);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\n\nexport default {\n  getAll,\n  create,\n  update,\n};\n","/* eslint-disable linebreak-style */\n/* eslint-disable react/react-in-jsx-scope */\nimport { Button } from 'react-bootstrap';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport caseService from '../../services/cases';\nimport ducService from '../../services/differentials/differentialsUnderCases';\nimport pucService from '../../services/proceduresUnderCase';\n\nconst copyCase = ({\n  caseToBeCopied, createProcedures, createDifferentials,\n}) => {\n  const { t } = useTranslation();\n  const oldCaseId = caseToBeCopied.id;\n  // eslint-disable-next-line no-unused-vars\n  let newCopyId = 0;\n\n  /* istanbul ignore next */\n  const handleCopy = (event) => {\n    event.preventDefault();\n    const caseObject = ({\n      title: caseToBeCopied.title,\n      anamnesis: caseToBeCopied.anamnesis,\n      hidden: caseToBeCopied.hidden,\n    });\n    caseService.create(caseObject)\n      .then((copy) => {\n        newCopyId = copy.id;\n      })\n      .then(() => {\n        ducService.getAll(oldCaseId)\n          .then((result) => {\n            createDifferentials(newCopyId, result);\n          });\n      })\n      .then(() => {\n        pucService.getAll(oldCaseId)\n          .then((result) => {\n            createProcedures(newCopyId, result);\n          });\n      });\n  };\n\n  return (\n    <Button className=\"copyButton\" size=\"sm\" variant=\"warning\" onClick={handleCopy}>{t('copy')}</Button>\n  );\n};\n\nexport default copyCase;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Card,\n  Button,\n  ProgressBar,\n} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport RemoveCase from './RemoveCase';\nimport CopyCase from './CopyCase';\nimport ducService from '../../services/differentials/differentialsUnderCases';\nimport pucService from '../../services/proceduresUnderCase';\n\nconst CaseCard = ({ c, admin }) => {\n  const { t } = useTranslation();\n\n  /* istanbul ignore next */\n  const createDifferentials = (copyId, result) => {\n    for (let i = 0; i < result.length; i += 1) {\n      const { id, description } = result[i];\n      const object = {\n        caseId: copyId,\n        differentialId: id,\n        description,\n      };\n      ducService.create(object);\n    }\n  };\n\n  /* istanbul ignore next */\n  const createProcedures = (copyId, result) => {\n    for (let i = 0; i < result.length; i += 1) {\n      const { procedureId, priority } = result[i];\n      const object = {\n        caseId: copyId,\n        procedureId,\n        priority,\n      };\n      pucService.create(object);\n    }\n  };\n\n  return (\n    <div>\n      <Card as={Link} to={`/cases/${c.id}`} style={{ width: '20rem', cursor: 'pointer' }} className=\"caseCard\">\n        <Card.Body>\n          <Card.Title>{c.title}</Card.Title>\n          <Card.Text>{c.anamnesis}</Card.Text>\n        </Card.Body>\n        <Card.Footer>\n          <ProgressBar className=\"progsbar\" variant=\"success\" now={25} label={`${25}%`} />\n        </Card.Footer>\n      </Card>\n\n      { admin && (\n        <div className=\"cardButtons\">\n          <Button as={Link} to={`/cases/${c.id}`} className=\"editButton\" size=\"sm\">{t('buttonEdit')}</Button>\n          <CopyCase\n            caseToBeCopied={c}\n            createDifferentials={createDifferentials}\n            createProcedures={createProcedures}\n          />\n          <RemoveCase caseToBeRemoved={c} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CaseCard;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst Search = ({ newSearch, searchCases }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div>\n      <label htmlFor=\"search\">\n        {t('searchByTitle')}\n        &nbsp;\n        <input\n          id=\"search\"\n          value={newSearch}\n          onChange={searchCases}\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default Search;\n","/* eslint-disable linebreak-style */\n/* eslint-disable array-callback-return */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Col,\n  Row,\n} from 'react-bootstrap';\n\nimport NewCase from '../case/NewCase';\nimport CaseCard from '../case/CaseCard';\nimport Search from './Search';\n\nconst Frontpage = ({ cases, admin }) => {\n  const { t } = useTranslation();\n  const [newSearch, setNewSearch] = useState('');\n\n  const searchCases = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  const casesToShow = !newSearch\n    ? cases : cases.filter((c) => c.title.toLowerCase().includes(newSearch.toLowerCase()));\n\n  return (\n    <div id=\"wrapper\">\n      <h2>{t('frontpageTitle')}</h2>\n      <p>{t('frontpageText')}</p>\n      <Search newSearch={newSearch} searchCases={searchCases} />\n      <br />\n      {admin && (\n        <div>\n          <NewCase />\n          <br />\n          <h3>{t('caseHidden')}</h3>\n          <hr />\n        </div>\n      )}\n      <Row xs=\"auto\" md=\"auto\" className=\"g-4\">\n        {admin && (\n          casesToShow.filter((c) => c.hidden).map((c) => (\n            <Col key={c.id}>\n              <CaseCard c={c} admin={admin} />\n            </Col>\n          ))\n        )}\n      </Row>\n      <br />\n      <h3>{t('casePlayable')}</h3>\n      <hr />\n      <Row xs=\"auto\" md=\"auto\" className=\"g-4\">\n        {casesToShow.filter((c) => !c.hidden).map((c) => (\n          <Col key={c.id}>\n            <CaseCard c={c} admin={admin} />\n          </Col>\n        ))}\n      </Row>\n    </div>\n  );\n};\nexport default Frontpage;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst HowToPlay = () => {\n  const { t } = useTranslation();\n\n  return (\n    <div id=\"wrapper\">\n      <h2>{t('howToPlay')}</h2>\n    </div>\n  );\n};\n\nexport default HowToPlay;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst Profile = () => {\n  /* istanbul ignore next */\n  const { t } = useTranslation();\n\n  return (\n    <div id=\"wrapper\">\n      <h2>{t('userProfile')}</h2>\n    </div>\n  );\n};\n\nexport default Profile;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Link, useParams,\n} from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\n\nconst Case = () => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const baseUrl = `/cases/${id}`;\n\n  return (\n    <div id=\"wrapper\">\n      <Button as={Link} to={baseUrl}>{t('caseAnamnesis')}</Button>\n      <Button as={Link} to={`${baseUrl}/procedures`}>{t('caseProcedures')}</Button>\n      <Button as={Link} to={`${baseUrl}/differentials`}>{t('caseDifferentials')}</Button>\n    </div>\n  );\n};\n\nexport default Case;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/procedures';\n\nconst getAll = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\n\nexport default {\n  create,\n  getAll,\n  update,\n};\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport service from '../../services/procedures';\nimport serviceUnderCases from '../../services/proceduresUnderCase';\nimport { setSuccess, setError } from '../utils/MessageBanner';\n\n// eslint-disable-next-line no-unused-vars\nconst newProcedure = ({ id, addProcedureFunc }) => {\n  /* istanbul ignore next */\n  const { t } = useTranslation();\n  const [newTitle, setNewTitle] = useState('');\n  //  const [procedures, setProcedures] = useState([]);\n\n  /*   useEffect(() => {\n    service\n      .getAll()\n      .then((proceduresList) => {\n        setProcedures(proceduresList);\n      });\n  }); */\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value);\n  };\n\n  const addProcedure = async (event) => {\n    event.preventDefault();\n\n    const procedureObject = ({\n      title: newTitle,\n    });\n\n    /* istanbul ignore else */\n    if (addProcedureFunc != null) {\n      addProcedureFunc(procedureObject);\n    } else {\n      const receivedID = await service.create(procedureObject)\n        .then((data) => {\n          setNewTitle('');\n          setSuccess(t('procedureAddSuccess'));\n          return data.id;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n          setError(t('procedureAddError'));\n        });\n\n      const procedureUnderCaseObject = ({\n        caseId: id,\n        procedureId: receivedID,\n        priority: 1,\n      });\n\n      serviceUnderCases.create(procedureUnderCaseObject);\n    }\n  };\n\n  return (\n    <div>\n      <h2>{t('addProcedure')}</h2>\n\n      <form onSubmit={addProcedure}>\n        <p>\n          <label htmlFor=\"title\">\n            {t('procedureTitle')}\n          </label>\n          <br />\n          <input\n            id=\"title\"\n            type=\"text\"\n            value={newTitle}\n            onChange={handleTitleChange}\n          />\n        </p>\n        <p>\n          <input type=\"submit\" id=\"submit\" value={t('buttonSubmitNewProcedure')} />\n        </p>\n      </form>\n\n    </div>\n  );\n};\n\nexport default newProcedure;\n","/* eslint-disable linebreak-style */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-unused-expressions */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\nimport service from '../../services/procedures';\nimport serviceUnderProcedure from '../../services/proceduresUnderCase';\n\nconst EditProcedure = ({ procedure, editProcedureFunc }) => {\n  /* istanbul ignore next */\n  const [newPriority, setNewPriority] = useState(procedure.proceduresUnderCase.priority);\n  /* istanbul ignore next */\n  const [newProcedureTitle, setNewProcedureTitle] = useState(procedure.title);\n  /* istanbul ignore next */\n  const { t } = useTranslation();\n  /* istanbul ignore next */\n  const history = useHistory();\n\n  /* istanbul ignore next */\n  const handlePriorityChange = (event) => {\n    setNewPriority(event.target.value);\n  };\n\n  /* istanbul ignore next */\n  const handleTitleChange = (event) => {\n    setNewProcedureTitle(event.target.value);\n  };\n\n  /* istanbul ignore next */\n  const editProcedure = (event) => {\n    event.preventDefault();\n    setNewProcedureTitle(event.target[0].value);\n    setNewPriority(event.target[1].value);\n    // eslint-disable-next-line no-param-reassign\n    const procedureUnderCaseObject = ({\n      caseId: procedure.proceduresUnderCase.caseId,\n      procedureId: procedure.proceduresUnderCase.procedureId,\n      priority: event.target[1].value,\n    });\n\n    const procedureObject = ({\n      title: event.target[0].value,\n    });\n\n    if (editProcedureFunc != null) {\n      editProcedureFunc(procedureUnderCaseObject);\n    }\n    service.update(procedure.id, procedureObject);\n    serviceUnderProcedure.update(procedure.id, procedureUnderCaseObject);\n    if (editProcedureFunc == null) {\n      history.push('/');\n    }\n  };\n\n  return (\n    <div id=\"wrapper\" key={procedure.proceduresUnderCase.priority}>\n      <h2>{t('editProcedure')}</h2>\n\n      <form onSubmit={(e) => editProcedure(e)}>\n        <p>\n          <label htmlFor=\"title\">\n            {t('procedureTitle')}\n          </label>\n          <br />\n          <input\n            id=\"title\"\n            type=\"text\"\n            defaultValue={procedure.title}\n            onChange={handleTitleChange}\n          />\n        </p>\n        <p>\n          <label htmlFor=\"priority\">\n            {t('procedurePriority')}\n          </label>\n          <br />\n          <input\n            id=\"priority\"\n            type=\"integer\"\n            onChange={handlePriorityChange}\n            defaultValue={procedure.proceduresUnderCase.priority}\n          />\n        </p>\n        <p>\n          <input type=\"submit\" id=\"submit\" value={t('buttonEdit')} />\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProcedure;\n","/* eslint-disable linebreak-style */\n/* eslint-disable no-restricted-globals */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport service from '../../services/procedures';\nimport EditProcedure from './EditProcedure';\nimport serviceUnderProcedure from '../../services/proceduresUnderCase';\n\nconst DragNDropList = ({\n  proceduresHook, handleDragStart, handleDragEnd, handleDragEnter, t, submitForm,\n}) => (\n  proceduresHook\n    && proceduresHook.map((p, index) => (\n      <h4\n        onDragStart={(e) => handleDragStart(e, index)}\n        onDragEnd={() => handleDragEnd()}\n        onDragEnter={(e) => handleDragEnter(e, index)}\n        key={index}\n        draggable\n      >\n        <div>\n          <Button className=\"procedureButton\"> {p.proceduresUnderCase.priority} {p.title} </Button>\n          <form onSubmit={(e) => submitForm(p, e)} className=\"handleEdits\">\n            <Button type=\"submit\" className=\"editButton\" key={index} size=\"sm\">{t('buttonEdit') }</Button>\n          </form>\n        </div>\n      </h4>\n    ))\n);\n\nconst ProcedureList = ({ id }) => {\n  /* istanbul ignore next */\n  const { t } = useTranslation();\n  const draggingItem = useRef();\n  const dragOverItem = useRef();\n  const [proceduresHook, setProceduresHook] = useState([]);\n  const [procedureToEdit, setProcedureToEdit] = useState(null);\n\n  useEffect(() => {\n    service\n      .getAll(id)\n      .then((procedureList) => {\n        const list = procedureList[0].procedures;\n        list.sort((a, b) => a.proceduresUnderCase.priority - b.proceduresUnderCase.priority);\n        setProceduresHook(list);\n      });\n  }, []);\n\n  const handleEditId = (p) => {\n    setProcedureToEdit(p);\n  };\n\n  const submitForm = (p, e) => {\n    e.preventDefault();\n    handleEditId(p);\n  };\n\n  const handleDragStart = (e, position) => {\n    draggingItem.current = position;\n  };\n\n  const handleDragEnter = (e, position) => {\n    dragOverItem.current = position;\n    const listCopy = [...proceduresHook];\n    const draggingItemContent = listCopy[draggingItem.current];\n    listCopy.splice(draggingItem.current, 1);\n    listCopy.splice(dragOverItem.current, 0, draggingItemContent);\n    draggingItem.current = dragOverItem.current;\n    dragOverItem.current = null;\n    setProceduresHook(listCopy);\n  };\n\n  const dragDropEditProcedure = (givenProcedure, index) => {\n    // eslint-disable-next-line no-param-reassign\n    const procedureUnderCaseObject = ({\n      caseId: givenProcedure.proceduresUnderCase.caseId,\n      procedureId: givenProcedure.proceduresUnderCase.procedureId,\n      priority: index + 1,\n    });\n    // eslint-disable-next-line max-len\n    serviceUnderProcedure.update(givenProcedure.proceduresUnderCase.procedureId, procedureUnderCaseObject);\n  };\n\n  const handleDragEnd = () => {\n    proceduresHook.map((p, index) => (\n      dragDropEditProcedure(p, index)\n    ));\n  };\n\n  return (\n    <>\n      <DragNDropList\n        proceduresHook={proceduresHook}\n        handleDragStart={handleDragStart}\n        handleDragEnd={handleDragEnd}\n        handleDragEnter={handleDragEnter}\n        t={t}\n        submitForm={submitForm}\n      />\n      { procedureToEdit ? (\n        <EditProcedure procedure={procedureToEdit} />\n      ) : (\n        <p> </p>\n      )}\n    </>\n  );\n};\n\nexport default ProcedureList;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport NewProcedure from './NewProcedure';\nimport ProcedureList from './ProcedureList';\n\nconst Procedures = () => {\n  const { id } = useParams();\n\n  return (\n    <div id=\"wrapper\">\n      <p>Toimenpiteet löytyvät täältä</p>\n      <NewProcedure id={id} />\n      <ProcedureList id={id} />\n    </div>\n  );\n};\n\nexport default Procedures;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/differentialGroupsUnderCases';\n\nconst getAll = (caseId) => {\n  const request = axios.get(`${baseUrl}/${caseId}`);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n};\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { Accordion, Card } from 'react-bootstrap';\n\nconst Differential = ({ id, name, description }) => (\n  <Card>\n    <Accordion.Toggle as={Card.Header} eventKey={id} id=\"differentialName\">\n      {name}\n    </Accordion.Toggle>\n    <Accordion.Collapse eventKey={id}>\n      <Card.Body>{description}</Card.Body>\n    </Accordion.Collapse>\n  </Card>\n);\n\nexport default Differential;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { Accordion } from 'react-bootstrap';\nimport serviceUnderCases from '../../services/differentials/differentialsUnderCases';\nimport Differential from './Differential';\n\nconst DifferentialList = ({ diffGroupCaseId }) => {\n  const [caseDifferentials, setCaseDifferentials] = useState([]);\n\n  React.useEffect(() => {\n    serviceUnderCases.getAll(diffGroupCaseId)\n      .then((initialDifferentials) => {\n        setCaseDifferentials(initialDifferentials);\n      })\n      .catch((error) => {\n        /* istanbul ignore next */\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <Accordion>\n      {caseDifferentials.map((d) => (\n        <Differential key={d.id} id={d.id} name={d.name} description={d.description} />\n      ))}\n    </Accordion>\n  );\n};\n\nexport default DifferentialList;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/differentials';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  Form, Button,\n} from 'react-bootstrap';\n\nconst AddDifferentialForm = ({ addDifferential }) => {\n  const { t } = useTranslation();\n\n  const newDifferentialSchema = Yup.object().shape({\n    name: Yup.string()\n      .min(2, t('warningShort'))\n      .max(999, t('warningLong'))\n      .required(t('warningRequired')),\n    description: Yup.string(),\n  });\n\n  const handleDifferentialAdd = (values) => {\n    addDifferential({\n      name: values.name,\n      description: values.description,\n    });\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        name: '',\n        description: '',\n      }}\n      validationSchema={newDifferentialSchema}\n      onSubmit={handleDifferentialAdd}\n    >\n      {({\n        handleSubmit,\n        handleChange,\n        values,\n        errors,\n      }) => (\n        <Form noValidate onSubmit={handleSubmit}>\n          <Form.Group md=\"6\" controlId=\"name\">\n            <Form.Label>{t('addDifferential')}</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"name\"\n              placeholder={t('write')}\n              value={values.name}\n              onChange={handleChange}\n              isInvalid={!!errors.name}\n            />\n            <Form.Control.Feedback type=\"invalid\" role=\"alert\" aria-label=\"from feedback\">\n              {errors.name}\n            </Form.Control.Feedback>\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"description\">\n            <Form.Label>{t('description')}</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              name=\"description\"\n              rows={3}\n              value={values.description}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Button type=\"submit\">{t('buttonSubmitNewDifferential')}</Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default AddDifferentialForm;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Form, Button,\n} from 'react-bootstrap';\nimport { Typeahead } from 'react-bootstrap-typeahead';\n\nconst SelectDifferentialForm = ({ differentials, selectDifferential, diffGroupCaseId }) => {\n  const { t } = useTranslation();\n\n  const [selectedDiff, setSelectedDiff] = useState([]);\n  const [description, setDescription] = useState('');\n\n  const handleDifferentialChoose = (event) => {\n    event.preventDefault();\n    const differential = differentials.filter((d) => d.name === selectedDiff[0])[0];\n    selectDifferential({\n      diffGroupCaseId,\n      differentialId: differential.id,\n      description,\n    });\n\n    setDescription('');\n    setSelectedDiff([]);\n  };\n\n  return (\n    <Form onSubmit={handleDifferentialChoose}>\n      <Form.Group>\n        <Form.Label>{t('selectExistingDifferential')}</Form.Label>\n        <Typeahead\n          id=\"basic-typeahead-single\"\n          labelKey=\"name\"\n          options={differentials.map((d) => d.name)}\n          placeholder={t('selectDifferential')}\n          onChange={setSelectedDiff}\n          selected={selectedDiff}\n        />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"description\">\n        <Form.Label>{t('description')}</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          name=\"description\"\n          rows={3}\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n      </Form.Group>\n      <Button type=\"submit\">{t('buttonSubmitNewDifferential')}</Button>\n    </Form>\n  );\n};\n\nexport default SelectDifferentialForm;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Button, Modal, Tabs, Tab,\n} from 'react-bootstrap';\nimport service from '../../services/differentials/differentials';\nimport serviceUnderCases from '../../services/differentials/differentialsUnderCases';\nimport AddDifferentialForm from './AddDifferentialForm';\nimport SelectDifferentialForm from './SelectDifferentialForm';\nimport { setSuccess, setError } from '../utils/MessageBanner';\n\nconst NewDifferential = ({ diffGroupCaseId }) => {\n  const { t } = useTranslation();\n\n  const [show, setShow] = useState(false);\n  const [differentials, setDifferentials] = useState([]);\n\n  React.useEffect(() => {\n    service.getAll()\n      .then((initialDifferentials) => {\n        setDifferentials(initialDifferentials);\n      })\n      .catch((error) => {\n        /* istanbul ignore next */\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  }, []);\n\n  const toggleVisibility = () => setShow(!show);\n\n  /* istanbul ignore next */\n  const handleDifferentialSelection = (ducObject) => {\n    serviceUnderCases.create(ducObject)\n      .then(() => {\n        toggleVisibility();\n        setSuccess(t('differentialUpdateSuccess'));\n      })\n      .catch((error) => {\n      // eslint-disable-next-line no-console\n        console.log(error);\n        toggleVisibility();\n        setError(t('differentialUpdateError'));\n      });\n  };\n\n  /* istanbul ignore next */\n  const handleDifferentialAdd = (differentialObject) => {\n    service.create({ name: differentialObject.name })\n      .then((res) => {\n        const differentialId = res[0].id;\n        handleDifferentialSelection({\n          diffGroupCaseId,\n          differentialId,\n          description: differentialObject.description,\n        });\n      });\n  };\n\n  return (\n    <div id=\"newDifferential\">\n      <Button variant=\"primary\" onClick={toggleVisibility} id=\"addNew\">\n        {t('buttonNewDifferential')}\n      </Button>\n      <Modal\n        show={show}\n        onHide={toggleVisibility}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{t('addDifferential')}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Tabs defaultActiveKey=\"select\" id=\"differentials\" className=\"mb-3\">\n            <Tab eventKey=\"select\" title={t('selectExisting')}>\n              <SelectDifferentialForm\n                differentials={differentials}\n                selectDifferential={handleDifferentialSelection}\n                diffGroupCaseId={diffGroupCaseId}\n              />\n            </Tab>\n            <Tab eventKey=\"add\" title={t('addNewDifferential2')}>\n              <AddDifferentialForm addDifferential={handleDifferentialAdd} />\n            </Tab>\n          </Tabs>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default NewDifferential;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { Card } from 'react-bootstrap';\nimport DifferentialList from '../DifferentialList';\nimport NewDifferential from '../NewDifferential';\n\nconst DifferentialGroup = ({\n  diffGroupCaseId, name, admin,\n}) => (\n  <Card style={{ width: '60rem' }}>\n    <Card.Header>{name}</Card.Header>\n    <Card.Body>\n      <DifferentialList diffGroupCaseId={diffGroupCaseId} />\n      {admin && (\n        <NewDifferential diffGroupCaseId={diffGroupCaseId} />\n      )}\n    </Card.Body>\n  </Card>\n);\n\nexport default DifferentialGroup;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport serviceUnderCases from '../../../services/differentials/differentialGroupsUnderCases';\nimport DifferentialGroup from './DifferentialGroup';\n\nconst DifferentialGroupList = ({ caseId, admin }) => {\n  const [caseDifferentialGroups, setCaseDifferentialGroups] = useState([]);\n\n  React.useEffect(() => {\n    serviceUnderCases.getAll(caseId)\n      .then((initialDifferentialGroups) => {\n        setCaseDifferentialGroups(initialDifferentialGroups);\n      })\n      .catch((error) => {\n        /* istanbul ignore next */\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <div data-testid=\"diffGroupList\">\n      {caseDifferentialGroups.map((d) => (\n        <DifferentialGroup\n          key={d.id}\n          diffGroupCaseId={d.diffGroupCaseId}\n          name={d.name}\n          admin={admin}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default DifferentialGroupList;\n","/* eslint-disable linebreak-style */\nimport axios from 'axios';\n\nconst baseUrl = '/api/differentialGroups';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n};\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  Form, Button,\n} from 'react-bootstrap';\n\nconst AddDifferentialGroupForm = ({ addDifferentialGroup }) => {\n  const { t } = useTranslation();\n\n  const newDifferentialGroupSchema = Yup.object().shape({\n    name: Yup.string()\n      .min(2, t('warningShort'))\n      .max(999, t('warningLong'))\n      .required(t('warningRequired')),\n  });\n\n  const handleDifferentialGroupAdd = (values) => {\n    addDifferentialGroup({\n      name: values.name,\n    });\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        name: '',\n      }}\n      validationSchema={newDifferentialGroupSchema}\n      onSubmit={handleDifferentialGroupAdd}\n    >\n      {({\n        handleSubmit,\n        handleChange,\n        values,\n        errors,\n      }) => (\n        <Form noValidate onSubmit={handleSubmit}>\n          <Form.Group md=\"6\" controlId=\"name\">\n            <Form.Label>{t('addDifferentialGroup')}</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"name\"\n              placeholder={t('write')}\n              value={values.name}\n              onChange={handleChange}\n              isInvalid={!!errors.name}\n            />\n            <Form.Control.Feedback type=\"invalid\" role=\"alert\" aria-label=\"from feedback\">\n              {errors.name}\n            </Form.Control.Feedback>\n          </Form.Group>\n          <Button type=\"submit\">{t('buttonSubmitNewDifferentialGroup')}</Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default AddDifferentialGroupForm;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Form, Button,\n} from 'react-bootstrap';\nimport { Typeahead } from 'react-bootstrap-typeahead';\n\nconst SelectDifferentialGroupForm = ({ differentialGroups, selectDifferentialGroup, caseId }) => {\n  const { t } = useTranslation();\n\n  const [selectedDiff, setSelectedDiff] = useState([]);\n\n  const handleDifferentialChoose = (event) => {\n    event.preventDefault();\n    const differentialGroup = differentialGroups.filter((d) => d.name === selectedDiff[0])[0];\n    selectDifferentialGroup({\n      caseId,\n      differentialGroupId: differentialGroup.id,\n    });\n\n    setSelectedDiff([]);\n  };\n\n  return (\n    <Form onSubmit={handleDifferentialChoose}>\n      <Form.Group>\n        <Form.Label>{t('selectExistingDifferentialGroup')}</Form.Label>\n        <Typeahead\n          id=\"basic-typeahead-single\"\n          labelKey=\"name\"\n          options={differentialGroups.map((d) => d.name)}\n          placeholder={t('selectDifferentialGroup')}\n          onChange={setSelectedDiff}\n          selected={selectedDiff}\n        />\n      </Form.Group>\n      <Button type=\"submit\">{t('buttonSubmitNewDifferentialGroup')}</Button>\n    </Form>\n  );\n};\n\nexport default SelectDifferentialGroupForm;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Button, Modal, Tabs, Tab,\n} from 'react-bootstrap';\n\nimport serviceUnderCases from '../../../services/differentials/differentialGroupsUnderCases';\nimport service from '../../../services/differentials/differentialGroups';\nimport AddDifferentialGroupForm from './AddDifferentialGroupForm';\nimport SelectDifferentialGroupForm from './SelectDifferentialGroupForm';\nimport { setSuccess, setError } from '../../utils/MessageBanner';\n\nconst NewDifferentialGroup = ({ caseId }) => {\n  const { t } = useTranslation();\n\n  const [show, setShow] = useState(false);\n  const [differentialGroups, setDifferentialGroups] = useState([]);\n\n  React.useEffect(() => {\n    service.getAll()\n      .then((initialDifferentialGroups) => {\n        setDifferentialGroups(initialDifferentialGroups);\n      })\n      .catch((error) => {\n        /* istanbul ignore next */\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  }, []);\n\n  const toggleVisibility = () => setShow(!show);\n\n  /* istanbul ignore next */\n  const handleDifferentialGroupSelection = (newObject) => {\n    serviceUnderCases.create(newObject)\n      .then(() => {\n        toggleVisibility();\n        setSuccess(t('differentialGroupUpdateSuccess'));\n      })\n      .catch((error) => {\n        // eslint-disable-next-line no-console\n        console.log(error);\n        toggleVisibility();\n        setError(t('differentialGroupUpdateError'));\n      });\n  };\n\n  /* istanbul ignore next */\n  const handleDifferentialGroupAdd = (differentialGroupObject) => {\n    service.create({ name: differentialGroupObject.name })\n      .then((res) => {\n        const differentialGroupId = res[0].id;\n        handleDifferentialGroupSelection({\n          caseId,\n          differentialGroupId,\n        });\n      });\n  };\n\n  return (\n    <div>\n      <Button variant=\"primary\" onClick={toggleVisibility} id=\"addNew\">\n        {t('buttonNewDifferentialGroup')}\n      </Button>\n      <Modal\n        show={show}\n        onHide={toggleVisibility}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{t('addDifferentialGroup')}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Tabs defaultActiveKey=\"select\" id=\"differentialGroups\" className=\"mb-3\">\n            <Tab eventKey=\"select\" title={t('selectExisting')}>\n              <SelectDifferentialGroupForm\n                differentialGroups={differentialGroups}\n                selectDifferentialGroup={handleDifferentialGroupSelection}\n                caseId={caseId}\n              />\n            </Tab>\n            <Tab eventKey=\"add\" title={t('addNewDifferential2')}>\n              <AddDifferentialGroupForm addDifferentialGroup={handleDifferentialGroupAdd} />\n            </Tab>\n          </Tabs>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default NewDifferentialGroup;\n","/* eslint-disable linebreak-style */\n/* eslint-disable array-callback-return */\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n// import NewDifferential from './NewDifferential';\nimport DifferentialGroupList from './differentialGroup/DifferentialGroupList';\nimport NewDifferentialGroup from './differentialGroup/NewDifferentialGroup';\n\nconst Differentials = ({ admin }) => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n\n  return (\n    <div id=\"wrapper\">\n      <h2>\n        {t('Differentials')}\n      </h2>\n      {admin && (\n        <div>\n          <NewDifferentialGroup caseId={id} />\n        </div>\n      )}\n      <DifferentialGroupList caseId={id} admin={admin} />\n    </div>\n  );\n};\n\nexport default Differentials;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst HideCase = ({ c, hideCase }) => {\n  const { t } = useTranslation();\n\n  const [newHidden, setNewHidden] = useState(c.hidden);\n\n  const handleVisibilityUpdate = (event) => {\n    event.preventDefault();\n    hideCase({\n      title: c.title,\n      anamnesis: c.anamnesis,\n      hidden: newHidden,\n    });\n  };\n\n  const handleHiddenChange = () => {\n    setNewHidden(!newHidden);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleVisibilityUpdate} className=\"buttonLeft\">\n        <label htmlFor=\"submit\" className=\"hidden\">{newHidden ? t('buttonShowCaseToStudents') : t('buttonHideCaseFromStudents')}</label>\n        <input type=\"submit\" onClick={handleHiddenChange} id=\"submit\" value={newHidden ? t('buttonShowCaseToStudents') : t('buttonHideCaseFromStudents')} />\n      </form>\n    </div>\n  );\n};\n\nexport default HideCase;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Form } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\n\nconst UpdateCaseTitle = ({ c, updateCaseTitle }) => {\n  const { t } = useTranslation();\n\n  const [title, setTitle] = useState(c.title);\n\n  const caseSchema = Yup.object().shape({\n    title: Yup.string()\n      .min(2, t('warningShort'))\n      .max(999, t('warningLong'))\n      .required(t('warningRequired')),\n  });\n\n  const handleTitleUpdate = (values) => {\n    updateCaseTitle({\n      title: values.title,\n      anamnesis: c.anamnesis,\n      hidden: c.hidden,\n    });\n\n    setTitle(values.title);\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        title,\n      }}\n      validationSchema={caseSchema}\n      onSubmit={handleTitleUpdate}\n    >\n      {({\n        handleSubmit,\n        handleChange,\n        values,\n        errors,\n      }) => (\n        <Form noValidate onSubmit={handleSubmit}>\n          <Form.Group className=\"mb-3\" controlId=\"updateTitle\" style={{ width: '30rem' }}>\n            <Form.Control\n              type=\"text\"\n              name=\"title\"\n              value={values.title}\n              onChange={handleChange}\n              isInvalid={!!errors.title}\n            />\n            <Form.Text className=\"text-muted\">\n              {t('caseTitleInstruction')}\n            </Form.Text>\n            <Form.Control.Feedback type=\"invalid\" role=\"alert\" aria-label=\"from feedback\">\n              {errors.title}\n            </Form.Control.Feedback>\n          </Form.Group>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default UpdateCaseTitle;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router-dom';\nimport HideCase from '../case/HideCase';\nimport service from '../../services/cases';\nimport UpdateCaseTitle from '../case/UpdateCaseTitle';\nimport { setSuccess, setError } from '../utils/MessageBanner';\n\nconst Anamnesis = ({ cases, admin }) => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const c = cases.find((a) => a.id === Number(id));\n  // currentcase was used to fix bug where case title and visibility\n  // could not be updated at the same time\n  // see https://github.com/taudinpurkauspeli/taudinpurkauspeli2021/commit/24d648f4a684d2acd3d378196c3fc09e6836b1a6#diff-9f9374df7bc962cc29cb590ed33d6b81f84a09bbced9187d2fb750e2f7d645ee\n  // temporarily modified to prevent refresh page bug\n  // eslint-disable-next-line no-unused-vars\n  const [currentCase, setCurrentCase] = useState(c);\n\n  /* istanbul ignore next */\n  const handleCaseUpdate = (updatedCase) => {\n    service.update(c.id, updatedCase)\n      .then(() => {\n        setCurrentCase(updatedCase);\n        setSuccess(t('caseUpdateSuccess'));\n      })\n      .catch((error) => {\n        // eslint-disable-next-line no-console\n        console.log(error);\n        setError(t('caseUpdateError'));\n      });\n  };\n\n  return (\n    <div id=\"wrapper\">\n      <p>Casen tiedot löytyvät täältä</p>\n      { admin && c && (\n        <div>\n          <UpdateCaseTitle c={c} updateCaseTitle={handleCaseUpdate} />\n          <HideCase c={c} hideCase={handleCaseUpdate} />\n        </div>\n      )}\n      { !admin && c && (\n        <p>{c.title}</p>\n      )}\n      { c && (\n        <p>{c.anamnesis}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Anamnesis;\n","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport {\n  Switch, Route,\n} from 'react-router-dom';\n\n// Import components\nimport Frontpage from '../frontpage/Frontpage';\nimport HowToPlay from '../instructions/HowToPlay';\nimport Profile from '../user/Profile';\nimport Case from '../case/Case';\nimport Procedures from '../procedure/Procedures';\nimport Differentials from '../differential/Differentials';\nimport Anamnesis from '../anamnesis/Anamnesis';\n\nconst Routing = ({ admin, cases }) => (\n  <Switch>\n    <Route path=\"/howtoplay\">\n      <HowToPlay />\n    </Route>\n    <Route path=\"/profile\">\n      <Profile />\n    </Route>\n    <Route path=\"/cases/:id/procedures\">\n      <Case cases={cases} admin={admin} />\n      <Procedures />\n    </Route>\n    <Route path=\"/cases/:id/differentials\">\n      <Case cases={cases} admin={admin} />\n      <Differentials admin={admin} />\n    </Route>\n    <Route path=\"/cases/:id\">\n      <Case cases={cases} admin={admin} />\n      <Anamnesis cases={cases} admin={admin} />\n    </Route>\n    <Route path=\"/\">\n      <Frontpage admin={admin} cases={cases} />\n    </Route>\n  </Switch>\n);\n\nexport default Routing;\n","/* eslint-disable linebreak-style */\nimport React, { useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  BrowserRouter as Router,\n} from 'react-router-dom';\n\n// Import components\nimport Navigationbar from './components/navigation/Navbar';\nimport service from './services/cases';\nimport Sidebar from './components/navigation/Sidebar';\nimport Routing from './components/navigation/Routing';\nimport MessageBanner from './components/utils/MessageBanner';\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [admin, setAdmin] = useState(false);\n  const [cases, setCases] = useState([]);\n\n  /* istanbul ignore next */\n  React.useEffect(() => {\n    service\n      .getAll()\n      .then((response) => {\n        // eslint-disable-next-line no-console\n        console.log(response);\n        setAdmin(response.admin);\n        setUser(response.name);\n        setCases(response.data);\n        // eslint-disable-next-line no-console\n        console.log(user);\n      })\n      .catch((error) => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <Router>\n      <Navigationbar\n        user={false}\n        admin={admin}\n        cases={cases}\n      />\n      <Sidebar />\n      <MessageBanner />\n      <Routing cases={cases} admin={admin} />\n    </Router>\n  );\n};\n\nexport default (App);\n","/* eslint-disable linebreak-style */\n/* istanbul ignore file */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' // [::1] is the IPv6 localhost address.\n      || window.location.hostname === '[::1]'\n      // 127.0.0.0/8 are considered localhost for IPv4.\n      || window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n      ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        // eslint-disable-next-line no-use-before-define\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        // eslint-disable-next-line no-use-before-define\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n\n              // Execute callback\n              // eslint-disable-next-line no-lonely-if\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n          || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      });\n  }\n}\n","/* eslint-disable linebreak-style */\n/* istanbul ignore file */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './i18n/config';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}