(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{222:function(e,t,n){},244:function(e){e.exports=JSON.parse('{"addCase":"Lis\xe4\xe4 case","addDifferential":"Lis\xe4\xe4 caseen uusi diffi","addDifferentialGroup":"Lis\xe4\xe4 caseen uusi diffiryhm\xe4","addNewDifferential":"Lis\xe4\xe4 uusi...","addNewDifferential2":"Luo uusi","addNewTextSubProcedure2":"Luo uusi","addTextSubProcedure":"Luo uusi tekstialakohta","addInterviewSubProcedure":"Luo uusi pohdinta-alakohta","addOptionGroup":"Lis\xe4\xe4 uusi kysymysryhm\xe4","addOption":"Lis\xe4\xe4 uusi kysymys","addProcedure":"Lis\xe4\xe4 toimenpide","anamnesis":"Anamneesi","buttonAddFinalDiagnosis":"+ Lis\xe4\xe4 loppudiagnoosi","buttonAddNewInterview":"+ Lis\xe4\xe4 pohdinta","buttonAddNewQuestion":"+ Lis\xe4\xe4 kysymys","buttonAddNewText":"+ Lis\xe4\xe4 teksti","buttonAddNewOptionGroup":"+ Lis\xe4\xe4 kysymysryhm\xe4","buttonAddNewOption":"+ Lis\xe4\xe4 kysymys","buttonEdit":"Muokkaa","buttonHideCaseFromStudents":"Piilota case opiskelijoilta","buttonShowCaseToStudents":"N\xe4yt\xe4 case opiskelijoille","buttonNewCase":"+ Lis\xe4\xe4 uusi case","buttonNewDifferential":"+ Lis\xe4\xe4 uusi diffi","buttonNewDifferentialGroup":"+ Lis\xe4\xe4 uusi diffiryhm\xe4","buttonNewProcedure":"+ Lis\xe4\xe4 uusi toimenpide","buttonNewSubProcedure":"+ Lis\xe4\xe4 uusi alakohta","buttonPlay":"Pelaa","buttonRemove":"Poista","buttonRemoveAll":"Poista kaikki","buttonSaveAnamneesi":"P\xe4ivit\xe4 anamneesi","buttonSaveDifferential":"Tallenna diffi","buttonSave":"Tallenna","buttonSearch":"Etsi","buttonSelectCase":"Valitse case:","buttonSubmit":"Lis\xe4\xe4","buttonSubmitNewCase":"Lis\xe4\xe4 case","buttonSubmitNewDifferential":"Lis\xe4\xe4","buttonSubmitNewDifferentialGroup":"Lis\xe4\xe4","buttonSubmitNewDisease":"Lis\xe4\xe4","buttonSubmitNewProcedure":"Lis\xe4\xe4 toimenpide","buttonUpdate":"P\xe4ivit\xe4","caseAnamnesis":"Anamneesi","caseDifferentials":"Diffit","caseHidden":"Opiskelijoilta piilotetut caset","casePlayable":"Pelattavissa olevat caset","caseProcedures":"Toimenpiteet","caseTitle":"Casen nimi","caseAddError":"VIRHE! Uutta casea ei voitu luoda","caseAddSuccess":"Case luotu onnistuneesti","caseUpdateError":"VIRHE! Casen p\xe4ivitt\xe4minen ep\xe4onnistui","caseUpdateSuccess":"Case p\xe4ivitetty onnistuneesti","caseTitleInstruction":"Muokattuasi otsikkoa, paina Enteria tallentaaksesi muutokset","cases":"Caset","category":"Kategoria","chooseDifferential":"Valitse diffi","clickTheDisease":"Klikkaa tautia","copy":"Kopioi","description":"Kuvaus","deleteCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n casen?","deleteCaseSuccess":"Casen poistaminen onnistui","deleteCaseError":"VIRHE! Casen poisto ep\xe4onnistui.","Differentials":"Diffit","differentialGroupUpdateSuccess":"Diffiryhm\xe4 lis\xe4tty onnistuneesti","differentialGroupUpdateError":"VIRHE! Valittu diffiryhm\xe4 on jo aiemmin lis\xe4tty caseen.","differentialUpdateSuccess":"Diffi lis\xe4tty onnistuneesti","differentialUpdateError":"VIRHE! Valittu diffi on jo aiemmin lis\xe4tty caseen.","edit":"Muokkaa","editCase":"Edit case","editProcedure":"Muokkaa toimenpidett\xe4","fileBank":"Tiedostopankki","frontpageTitle":"Etusivu","frontpageText":"Tervetuloa! \\n\\n Valitse alta case, jota haluat pelata. Peliohjeet l\xf6ytyv\xe4t navigointipalkista.","gameInstructions":"Pelin tarkoitus on opetella taudinpurkaukseen tarvittavaa ajattelumallia. Yrit\xe4 mietti\xe4, mik\xe4 olisi paras j\xe4rjestys suorittaa pelin toimenpiteet oikeaan diagnoosiin p\xe4\xe4st\xe4ksesi. Pelin toimenpiteet eiv\xe4t ole toimenpidelistassa oikeassa suoritusj\xe4rjestyksess\xe4. V\xe4\xe4ri\xe4 diffej\xe4 on helpointa sulkea pois heti, kun voit varmuudella tehd\xe4 niin. \\n\\n Edistymisesi casessa tallentuu automaattisesti, joten voit poistua v\xe4lill\xe4 Taudinpurkauspelist\xe4 ja tulla my\xf6hemmin jatkamaan casen selvitt\xe4mist\xe4. N\xe4et edistymisesi casessa etusivulla.","giveNumber":"Sy\xf6t\xe4 numero...","goToProcedure":"Siirry toimenpiteeseen","hideCase":"Piilota opiskelijoilta","howToPlay":"Peliohjeet","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"Tautilista","logOut":"Kirjaudu ulos","nameOfTheGame":"Taudinpurkauspeli","noDifferentialsYet":"Ei viel\xe4 diffej\xe4","optionGroupAddError":"VIRHE! Kysymysryhm\xe4n lis\xe4\xe4minen ep\xe4onnistui","optionGroupAddSuccess":"Kysymysryhm\xe4n lis\xe4\xe4minen onnistui","procedureAddError":"VIRHE! Toimenpiteen lis\xe4ys ep\xe4onnistui","procedureAddSuccess":"Toimenpiteen lis\xe4ys onnistui","procedurePriority":"Toimenpiteen t\xe4rkeysj\xe4rjestys","procedureTitle":"Toimenpiteen nimi","procedureUpdateError":"VIRHE! Toimenpiteen p\xe4ivitys ep\xe4onnistui","procedureUpdateSuccess":"Toimenpiteen p\xe4ivitys onnistui","procedure":"Toimenpide","procedures":"Toimenpiteet","required":"Vaadittu vastaus","searchByTitle":"Etsi nimell\xe4","selectLanguage":"Valitse kieli","selectDifferentialGroup":"Valitse diffiryhm\xe4...","selectDifferential":"Valitse diffi...","selectExistingDifferential":"Hae olemassaolevaa diffi\xe4","selectExistingDifferentialGroup":"Hae olemassaolevaa diffiryhm\xe4\xe4","selectExisting":"Valitse valikosta","selectUser":"Valitse k\xe4ytt\xe4j\xe4muoto","student":"opiskelija","subProcedurePriority":"Alakohdan t\xe4rkeysj\xe4rjestys","subProcedureUpdateError":"VIRHE! Valittu alakohta on jo aiemmin lis\xe4tty caseen.","subProcedureUpdateSuccess":"Toimenpiteen alakohta lis\xe4tty onnistuneesti","subProcedures":"Toimenpiteen alakohdat","teacher":"opettaja","text":"Teksti","textToAdd":"Teksti","title":"Nimi","updateSubProcedure":"P\xe4ivit\xe4 toimenpiteen alakohtaa","userInformation":"K\xe4ytt\xe4jien seuranta","userProfile":"K\xe4ytt\xe4j\xe4tiedot","voluntary":"Vapaaehtoinen vastaus","warningShort":"Liian lyhyt","warningLong":"Liian pitk\xe4","warningRequired":"Vaadittu tieto","warningPositiveInteger":"Prioriteetin tulee olla positiivinen kokonaisluku","write":"Kirjoita...","wrong":"V\xe4\xe4r\xe4 vastaus"}')},245:function(e){e.exports=JSON.parse('{"addCase":"Add case","addDifferential":"Add new differential to case","addDifferentialGroup":"Add new differential group to case","addNewDifferential":"Add new...","addNewDifferential2":"Create new","addNewTextSubProcedure2":"Create new","addTextSubProcedure":"Add new text subprocedure","addInterviewSubProcedure":"Add new interview subprocedure","addOptionGroup":"Add option group","addOption":"Add option","addProcedure":"Add procedure","anamnesis":"Anamnesis","buttonAddFinalDiagnosis":"+ Add final diagnosis","buttonAddNewInterview":"+ Add new multichoice","buttonAddNewQuestion":"+ Add new question","buttonAddNewText":"+ Add new text","buttonAddNewOptionGroup":"+ Add new option group","buttonAddNewOption":"+ Add new option","buttonEdit":"Edit","buttonHideCaseFromStudents":"Hide case from students","buttonShowCaseToStudents":"Show case to students","buttonNewCase":"+ Add new case","buttonNewDifferential":"+ Add new differential","buttonNewDifferentialGroup":"+ Add new differential group","buttonNewProcedure":"+ Add new procedure","buttonNewSubProcedure":"+ Add new sub procedure","buttonPlay":"Play","buttonRemove":"Remove","buttonRemoveAll":"Remove all","buttonSaveAnamneesi":"Update anamnesis","buttonSaveDifferential":"Save differential","buttonSave":"Save","buttonSearch":"Search","buttonSelectCase":"Select case:","buttonSubmit":"Submit","buttonSubmitNewCase":"Add case","buttonSubmitNewDifferential":"Submit","buttonSubmitNewDifferentialGroup":"Submit","buttonSubmitNewDisease":"Submit","buttonSubmitNewProcedure":"Add procedure","buttonUpdate":"Update","caseAnamnesis":"Anamnesis","caseAnamnesisInstruction":"After editing the Anamnesis, press Enter to save","caseDifferentials":"Differentials","caseHidden":"Cases hidden from students","casePlayable":"Playable cases","caseProcedures":"Procedures","caseTitle":"Case title","caseTitleInstruction":"Press enter after you have made the changes","caseAddError":"ERROR! Could not add the case","caseAddSuccess":"Case added successfully","caseUpdateError":"ERROR! Could not update case","caseUpdateSuccess":"Case was updated successfully","cases":"Cases","category":"Category","chooseDifferential":"Choose differential","clickTheDisease":"Click the disease","copy":"Copy","description":"Description","deleteCaseConfirmation":"Are you sure you want to delete this case?","deleteCaseSuccess":"Case deleted successfully","deleteCaseError":"ERROR! Could not delete case.","Differentials":"Differentials","differentialGroupUpdateSuccess":"Differential was added successfully","differentialGroupUpdateError":"ERROR! The differential already exists in this case.","differentialUpdateSuccess":"Differential was added succesfully","differentialUpdateError":"ERROR! The differential already exists in this case.","edit":"Edit","editCase":"Edit case","editProcedure":"Edit procedure","fileBank":"Filebank","frontpageText":"Welcome! \\n \\n Select the case you want to play. The game instructions can be found in navigation bar.","frontpageTitle":"Front page","gameInstructions":"The goal of this game is to learn the procedure to handle disease outbreaks. Try to think what would be the best order to execute the operations to come to the right diagnosis. The operations are not in the right order at the operations list. It\'s easiest to rule out wrong diffs whenever you\'re sure it\'s the right call. \\n\\n Your progress is saved automatically, so you can leave the game and continue later where you left off. You can see your progress with the case on the front page.","giveNumber":"Give a number...","goToProcedure":"Go to procedure","hideCase":"Hide from students","howToPlay":"How to play","languageEnglish":"English","languageFinnish":"Suomi","listOfDiseases":"List of diseases","logOut":"Log out","nameOfTheGame":"Taudinpurkauspeli","noDifferentialsYet":"No differentials yet","optionGroupAddError":"ERROR! Could not add an option group","optionGroupAddSuccess":"Option group added successfully","procedureAddError":"ERROR! Could not add a procedure","procedureAddSuccess":"Procedure added successfully","procedurePriority":"Procedure priority","procedureTitle":"Procedure title","procedure":"Procedure","procedures":"Procedures","procedureUpdateError":"ERROR! Could not update the procedure","procedureUpdateSuccess":"Procedure updated successfully","required":"Required answer","searchByTitle":"Search by title","selectDifferential":"Select differential...","selectDifferentialGroup":"Select differential group...","selectExisting":"Select existing","selectExistingDifferential":"Select an existing differential","selectExistingDifferentialGroup":"Select an existing differential group","selectLanguage":"Select language","selectUser":"Select user in charge","student":"student","subProcedurePriority":"Subprocedure priority","subProcedureUpdateError":"ERROR! The subprocedure already exists in this case.","subProcedureUpdateSuccess":"Subprocedure was added succesfully","subProcedures":"Sub Procedures","teacher":"teacher","text":"Text","textToAdd":"Text","title":"Title","updateSubProcedure":"Update subprocedure","userInformation":"Users","userProfile":"Profile","voluntary":"Voluntary answer","warningShort":"Too short","warningLong":"Too long","warningRequired":"Required information","warningPositiveInteger":"Priority must be a positive integer","write":"Write...","wrong":"Wrong answer"}')},360:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(42),c=n.n(i),s=n(11),o=n(198),u=(n(222),n(223),n(31)),d=n(12),l=n(15),b=n(7),j=n.n(b),f=n(13),p=n.n(f),h=null,O=function(){return{headers:{Authorization:h}}},m=function(){return localStorage.getItem("i18nextLng")||"fi"},x="/api/cases",v=function(){return p.a.get("".concat(x,"/").concat(m()),O()).then((function(e){return e.data}))},y=function(e){return p.a.post("".concat(x,"/").concat(m()),e,O()).then((function(e){return e.data}))},g=function(e){return p.a.put("".concat(x,"/").concat(e.id,"/").concat(m()),e,O())},w=function(e){return p.a.delete("".concat(x,"/").concat(e),O()).then((function(e){return e.data}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_CASES":return t.data;case"NEW_CASE":return[].concat(Object(l.a)(e),[t.data]);case"REMOVE_CASE":return e.filter((function(e){return e.id!==t.data}));case"UPDATE_CASE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));default:return e}},E=n(375),N=n(213),C=n(373),P=n(95),I=n(377),R=n(108),T=n(107),k=n(199);R.a.use(k.a).init(),R.a.use(T.e).init({fallbackLng:"fi",lng:localStorage.getItem("i18nextLng")||"fi",resources:{fi:{translations:n(244)},en:{translations:n(245)}},ns:["translations"],defaultNS:"translations"}),R.a.languages=["fi","en"];var D=R.a,G=n(1),U=function(){var e=Object(s.c)((function(e){return e.admin})),t=Object(I.a)().t,n=function(e){D.changeLanguage(e),window.location.reload(!1)};return Object(G.jsxs)(E.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",sticky:"top",children:[Object(G.jsx)(E.a.Brand,{as:u.b,to:"/",children:t("nameOfTheGame")}),Object(G.jsx)(E.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(G.jsx)(E.a.Collapse,{id:"responsive-navbar-nav",children:Object(G.jsxs)(N.a,{className:"ml-auto",children:[Object(G.jsxs)(C.a,{title:t("selectLanguage"),id:"selectLanguage",className:"navItems",children:[Object(G.jsx)(C.a.Item,{onClick:function(){return n("fi")},eventKey:"fi",children:t("languageFinnish")}),Object(G.jsx)(C.a.Item,{onClick:function(){return n("en")},eventKey:"en",children:t("languageEnglish")})]}),e&&Object(G.jsx)(N.a.Item,{children:Object(G.jsx)(P.a,{as:u.b,to:"/users",className:"navItems",children:t("userInformation")})}),e&&Object(G.jsx)(N.a.Item,{children:Object(G.jsx)(P.a,{as:u.b,to:"/files",className:"navItems",children:t("fileBank")})}),Object(G.jsx)(N.a.Item,{children:Object(G.jsx)(P.a,{as:u.b,to:"/howtoplay",className:"navItems",children:t("howToPlay")})}),Object(G.jsx)(N.a.Item,{children:Object(G.jsx)(P.a,{as:u.b,to:"/profile",className:"navItems",children:t("userProfile")})}),Object(G.jsx)(N.a.Item,{children:Object(G.jsx)(P.a,{href:"https://taudinpurkauspeli-taudinpurkauspeli2021.apps.ocp-prod-0.k8s.it.helsinki.fi/Shibboleth.sso/Logout",className:"navItems",children:t("logOut")})})]})})]})},A=function(){return Object(G.jsx)("div",{id:"sidebar"})},L=n(32),_=n(19),F=n(368),B=n(207),V=n(201),q=n(372),H=n(10),W=n(28),K=n(14),z=n(374),M=function(e){var t=e.addCase,n=Object(I.a)().t,a=Object(W.c)({initialValues:{title:"",anamnesis:"",hidden:!1},validationSchema:K.c({title:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),anamnesis:K.d(),hidden:K.a()}),onSubmit:function(e){t({title:e.title,anamnesis:e.anamnesis,hidden:e.hidden})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,spellCheck:"false",children:[Object(G.jsxs)(z.a.Group,{controlId:"title",children:[Object(G.jsx)(z.a.Label,{children:n("caseTitle")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text"},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",children:a.errors.title})]}),Object(G.jsxs)(z.a.Group,{controlId:"anamnesis",children:[Object(G.jsx)(z.a.Label,{children:n("caseAnamnesis")}),Object(G.jsx)(z.a.Control,Object(H.a)({as:"textarea",rows:3},a.getFieldProps("anamnesis")))]}),Object(G.jsx)(z.a.Group,{controlId:"hidden",children:Object(G.jsx)(z.a.Check,Object(H.a)({label:n("hideCase")},a.getFieldProps("hidden")))}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewCase")})]})},Y=n(150),J=(n(354),function(e){Y.b.error(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})}),Z=function(e){Y.b.success(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},Q=function(){return Object(G.jsx)(Y.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!0})},X=function(){var e=Object(I.a)().t,t=Object(s.b)(),n=Object(a.useState)(!1),r=Object(_.a)(n,2),i=r[0],c=r[1],o=function(){return c(!i)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"addButton",onClick:o,id:"addNew",children:e("buttonNewCase")}),Object(G.jsxs)(q.a,{show:i,onHide:o,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:e("addCase")})}),Object(G.jsx)(q.a.Body,{children:Object(G.jsx)(M,{addCase:function(n){o();try{t((a=n,function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(a);case 2:n=e.sent,t({type:"NEW_CASE",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Z(e("caseAddSuccess"))}catch(r){console.log(r),J(e("caseAddError"))}var a}})})]})]})},$=n(378),ee=n(367),te="/api/differentialsUnderCases",ne=function(e){return p.a.get("".concat(te,"/").concat(e,"/").concat(m()),O()).then((function(e){return e.data}))},ae=function(e){return p.a.post("".concat(te,"/").concat(m()),e,O()).then((function(e){return e.data}))},re="/api/proceduresUnderCases",ie=function(e){return p.a.get("".concat(re,"/").concat(e,"/").concat(m()),O()).then((function(e){return e.data}))},ce=function(e){return p.a.post("".concat(re,"/").concat(m()),e,O()).then((function(e){return e.data}))},se=function(e,t){return p.a.put("".concat(re,"/").concat(e),t,O())},oe="/api/differentialGroupsUnderCases",ue=function(e){return p.a.get("".concat(oe,"/").concat(e,"/").concat(m()),O()).then((function(e){return e.data}))},de=function(e){return p.a.post("".concat(oe,"/").concat(m()),e,O()).then((function(e){return e.data}))},le=function(e){var t=e.caseToBeCopied,n=e.createProcedures,a=Object(I.a)().t,r=t.id,i=0;return Object(G.jsx)(V.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault();var a={title:t.title,anamnesis:t.anamnesis,hidden:t.hidden};y(a).then((function(e){i=e.id})).then((function(){ue(r).then((function(e){!function(e,t){var n={};t.forEach((function(t){n={caseId:e,differentialGroupId:t.id},de(n).then((function(e){ne(t.diffGroupCaseId).then((function(t){t.forEach((function(t){var n=t.id,a={diffGroupCaseId:e.id,differentialId:n,description:t.description};ae(a)}))}))}))}))}(i,e)}))})).then((function(){ie(r).then((function(e){n(i,e)}))}))},children:a("copy")})},be=function(e){var t=e.caseToBeRemoved,n=e.deleteCase,a=Object(I.a)().t;return Object(G.jsx)(V.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(e){e.preventDefault(),n(t.id)},children:a("buttonRemove")})},je=function(e){var t=e.c,n=e.admin,a=Object(I.a)().t,r=Object(s.b)();return Object(G.jsxs)("div",{children:[Object(G.jsxs)($.a,{as:u.b,to:"/cases/".concat(t.id),style:{width:"20rem",cursor:"pointer"},className:"caseCard",children:[Object(G.jsxs)($.a.Body,{children:[Object(G.jsx)($.a.Title,{children:t.title}),Object(G.jsx)($.a.Text,{children:t.anamnesis})]}),Object(G.jsx)($.a.Footer,{children:Object(G.jsx)(ee.a,{className:"progsbar",variant:"success",now:25,label:"".concat(25,"%")})})]}),n&&Object(G.jsxs)("div",{className:"cardButtons",children:[Object(G.jsx)(V.a,{className:"editButton",as:u.b,to:"/cases/".concat(t.id),size:"sm",children:a("buttonEdit")}),Object(G.jsx)(le,{caseToBeCopied:t,createDifferentials:function(e,t){for(var n=0;n<t.length;n+=1){var a=t[n],r=a.id,i=a.description;ae({caseId:e,differentialId:r,description:i})}},createProcedures:function(e,t){for(var n=0;n<t.length;n+=1){var a=t[n],r=a.procedureId,i=a.priority;ce({caseId:e,procedureId:r,priority:i})}}}),Object(G.jsx)(be,{caseToBeRemoved:t,deleteCase:function(){var e;if(!0===window.confirm(a("deleteCaseConfirmation")))try{r((e=t.id,function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:n({type:"REMOVE_CASE",data:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),Z(a("deleteCaseSuccess"))}catch(n){J(a("deleteCaseError"))}}})]})]})},fe=function(e){var t=e.newSearch,n=e.searchCases,a=Object(I.a)().t;return Object(G.jsx)("div",{children:Object(G.jsxs)("label",{htmlFor:"search",children:[a("searchByTitle"),"\xa0",Object(G.jsx)("input",{id:"search",value:t,onChange:n})]})})},pe=function(e){var t=e.admin,n=Object(I.a)().t,r=Object(a.useState)(""),i=Object(_.a)(r,2),c=i[0],o=i[1],u=Object(s.c)((function(e){return e.cases})),d=c?u.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())})):u;return Object(G.jsxs)("div",{id:"wrapper",children:[Object(G.jsx)("h2",{children:n("frontpageTitle")}),Object(G.jsx)("p",{children:n("frontpageText")}),Object(G.jsx)(fe,{newSearch:c,searchCases:function(e){o(e.target.value)}}),Object(G.jsx)("br",{}),t&&Object(G.jsxs)("div",{children:[Object(G.jsx)(X,{}),Object(G.jsx)("br",{}),Object(G.jsx)("h3",{children:n("caseHidden")}),Object(G.jsx)("hr",{})]}),Object(G.jsx)(F.a,{xs:"auto",md:"auto",className:"g-4",children:t&&d.filter((function(e){return e.hidden})).map((function(e){return Object(G.jsx)(B.a,{children:Object(G.jsx)(je,{c:e,admin:t})},e.id)}))}),Object(G.jsx)("br",{}),Object(G.jsx)("h3",{children:n("casePlayable")}),Object(G.jsx)("hr",{}),Object(G.jsx)(F.a,{xs:"auto",md:"auto",className:"g-4",children:d.filter((function(e){return!e.hidden})).map((function(e){return Object(G.jsx)(B.a,{children:Object(G.jsx)(je,{c:e,admin:t})},e.id)}))})]})},he=function(){var e=Object(I.a)().t;return Object(G.jsxs)("div",{id:"wrapper",children:[Object(G.jsx)("h2",{children:e("howToPlay")}),Object(G.jsx)("p",{children:e("gameInstructions")})]})},Oe=function(){var e=Object(I.a)().t;return Object(G.jsx)("div",{id:"wrapper",children:Object(G.jsx)("h2",{children:e("userProfile")})})},me=function(){var e=Object(I.a)().t;return Object(G.jsx)("div",{id:"wrapper",children:Object(G.jsx)("h2",{children:e("userInformation")})})},xe=n(371),ve=function(e){var t=e.addProcedure,n=Object(I.a)().t,a=Object(W.c)({initialValues:{title:""},validationSchema:K.c({title:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired"))}),onSubmit:function(e){t({name:e.title})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"title",children:[Object(G.jsx)(z.a.Label,{children:n("procedureTitle")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text"},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",children:a.errors.title})]}),Object(G.jsx)(V.a,{type:"submit",className:"submitButton",children:n("buttonSubmitNewProcedure")})]})},ye="/api/procedures",ge=function(e){return p.a.post("".concat(ye,"/").concat(m()),e,O()).then((function(e){return e.data}))},we=function(){return p.a.get("".concat(ye,"/").concat(m()),O()).then((function(e){return e.data}))},Se=function(e,t){return p.a.put("".concat(ye,"/").concat(e,"/").concat(m()),t,O())},Ee=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e);case 2:a=t.sent,n({type:"GET_PROCEDURES_UNDER_CASE",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:a=t.sent,n({type:"NEW_PROCEDURE_UNDER_CASE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.procedureCaseId,e);case 2:n({type:"UPDATE_PROCEDURE",data:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURES_UNDER_CASE":return t.data;case"NEW_PROCEDURE_UNDER_CASE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_PROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURES":return t.data;case"NEW_PROCEDURE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_PROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:{id:e.id,name:e.name}}));default:return e}},Re=function(e){var t=e.caseId,n=Object(I.a)().t,r=Object(s.b)(),i=Object(a.useState)(!1),c=Object(_.a)(i,2),o=c[0],u=c[1],l=function(){return u(!o)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"addButton",onClick:l,children:n("buttonNewProcedure")}),Object(G.jsxs)(q.a,{show:o,onHide:l,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:n("addProcedure")})}),Object(G.jsx)(q.a.Body,{children:Object(G.jsx)(ve,{addProcedure:function(e){try{r(function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ge(t);case 2:r=n.sent,a({type:"NEW_PROCEDURE",data:r}),a(Ne({caseId:e,procedureId:r.id,priority:1}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(Number(t),e)),l(),Z(n("procedureAddSuccess"))}catch(a){l(),J(n("procedureAddError"))}}})})]})]})},Te=function(e){var t=e.procedure,n=e.caseId,r=e.editProcedureFunc,i=Object(a.useState)(t.priority),c=Object(_.a)(i,2),o=(c[0],c[1]),l=Object(a.useState)(t.name),b=Object(_.a)(l,2),f=(b[0],b[1]),p=Object(I.a)().t,h=Object(s.b)(),O=(Object(L.g)(),"/cases/".concat(n)),m=function(e){e.preventDefault(),f(e.target[0].value),o(e.target[1].value);var n=Object(H.a)(Object(H.a)({},t),{},{priority:Number(e.target[1].value),name:e.target[0].value});null!=r&&r(n),h(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(e.id,e);case 2:n(Ce(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))};return Object(G.jsxs)("div",{id:"editProcedureForm",children:[Object(G.jsx)("h2",{children:p("editProcedure")}),Object(G.jsx)(V.a,{className:"procedureButton goTo",as:u.b,to:"".concat(O,"/procedure/").concat(t.id),style:{margin:15},children:p("goToProcedure")}),Object(G.jsxs)("form",{onSubmit:function(e){return m(e)},children:[Object(G.jsxs)("p",{children:[Object(G.jsx)("label",{htmlFor:"title",children:p("procedureTitle")}),Object(G.jsx)("br",{}),Object(G.jsx)("input",{id:"title",type:"text",defaultValue:t.name,onChange:function(e){f(e.target.value)},className:"formInput"})]}),Object(G.jsxs)("p",{children:[Object(G.jsx)("label",{htmlFor:"priority",children:p("procedurePriority")}),Object(G.jsx)("br",{}),Object(G.jsx)("input",{id:"priority",type:"integer",onChange:function(e){o(e.target.value)},defaultValue:t.priority,className:"formInput"})]}),Object(G.jsx)("p",{children:Object(G.jsx)(V.a,{type:"submit",id:"submit",className:"submitButton",children:p("buttonSave")})})]})]},t.priority)},ke=function(e){var t=e.proceduresHook,n=e.handleDragStart,a=e.handleDragEnd,r=e.handleDragEnter,i=e.t,c=e.submitForm;return t&&t.map((function(e,t){return Object(G.jsx)("h4",{onDragStart:function(e){return n(e,t)},onDragEnd:function(){return a()},onDragEnter:function(e){return r(e,t)},draggable:!0,children:Object(G.jsxs)("div",{className:"rows",children:[Object(G.jsxs)(V.a,{className:"procedureButton",children:[e.priority,"\xa0",e.name]}),Object(G.jsx)("form",{onSubmit:function(t){return c(e,t)},className:"handleEdits",children:Object(G.jsx)(V.a,{type:"submit",className:"editButton",size:"sm",children:i("buttonEdit")},t)})]})},t)}))},De=function(e){var t=e.id,n=Object(I.a)().t,r=Object(s.b)(),i=Object(a.useRef)(),c=Object(a.useRef)(),o=Object(a.useState)([]),u=Object(_.a)(o,2),b=u[0],f=u[1],p=Object(a.useState)(null),h=Object(_.a)(p,2),O=h[0],m=h[1],x=Object(s.c)((function(e){return e.proceduresUnderCase.sort((function(e,t){return e.priority-t.priority}))}));Object(a.useEffect)((function(){f(x)}),[x]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ke,{proceduresHook:b,handleDragStart:function(e,t){i.current=t},handleDragEnd:function(){var e,n;r((e=t,n=b,function(){var t=Object(d.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map((function(e,t){return se(e.procedureCaseId,{priority:t+1})})));case 2:a(Ee(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},handleDragEnter:function(e,t){c.current=t;var n=Object(l.a)(b),a=n[i.current];n.splice(i.current,1),n.splice(c.current,0,a),i.current=c.current,c.current=null,f(n)},t:n,submitForm:function(e,t){t.preventDefault(),function(e){m(e)}(e)}}),O?Object(G.jsx)(Te,{procedure:O,caseId:t}):Object(G.jsx)("p",{children:" "})]})},Ge=function(e){var t=e.admin,n=Object(I.a)().t,a=Object(L.h)().id;return Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:n("procedures")}),t&&Object(G.jsx)(Re,{caseId:a}),Object(G.jsx)(De,{id:a})]})},Ue=n(376),Ae=function(e){var t=e.id,n=e.name,a=e.description;return Object(G.jsxs)($.a,{children:[Object(G.jsx)(Ue.a.Toggle,{as:$.a.Header,eventKey:t,id:"differentialName",children:n}),Object(G.jsx)(Ue.a.Collapse,{eventKey:t,children:Object(G.jsx)($.a.Body,{children:a})})]})},Le=function(e){var t=e.diffGroupCaseId,n=Object(s.c)((function(e){return e.differentialsUnderCase})).filter((function(e){return e.diffGroupCaseId===t}));return Object(G.jsx)(Ue.a,{children:n.map((function(e){return Object(G.jsx)(Ae,{id:e.id,name:e.name,description:e.description},e.id)}))})},_e=n(369),Fe=n(370),Be=function(e){var t=e.addDifferential,n=Object(I.a)().t,a=Object(W.c)({initialValues:{name:"",description:""},validationSchema:K.c({name:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),description:K.d()}),onSubmit:function(e){t({name:e.name,description:e.description})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"name",children:[Object(G.jsx)(z.a.Label,{children:n("addDifferential")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:n("write")},a.getFieldProps("name")),{},{isInvalid:!!a.errors.name})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.name})]}),Object(G.jsxs)(z.a.Group,{controlId:"description",children:[Object(G.jsx)(z.a.Label,{children:n("description")}),Object(G.jsx)(z.a.Control,Object(H.a)({as:"textarea",rows:3},a.getFieldProps("description")))]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferential")})]})},Ve=n(93),qe=function(e){var t=e.selectDifferential,n=e.diffGroupCaseId,r=Object(I.a)().t,i=Object(a.useState)([]),c=Object(_.a)(i,2),o=c[0],u=c[1],d=Object(a.useState)(""),l=Object(_.a)(d,2),b=l[0],j=l[1],f=Object(s.c)((function(e){return e.differentials}));return Object(G.jsxs)(z.a,{onSubmit:function(e){e.preventDefault();var a=f.filter((function(e){return e.name===o[0]}))[0];t({diffGroupCaseId:n,differentialId:a.id,description:b}),j(""),u([])},children:[Object(G.jsxs)(z.a.Group,{children:[Object(G.jsx)(z.a.Label,{children:r("selectExistingDifferential")}),Object(G.jsx)(Ve.a,{id:"basic-typeahead-single",labelKey:"name",options:f.map((function(e){return e.name})),placeholder:r("selectDifferential"),onChange:u,selected:o})]}),Object(G.jsxs)(z.a.Group,{className:"mb-3",controlId:"description",children:[Object(G.jsx)(z.a.Label,{children:r("description")}),Object(G.jsx)(z.a.Control,{as:"textarea",name:"description",rows:3,value:b,onChange:function(e){return j(e.target.value)}})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:r("buttonSubmitNewDifferential")})]})},He=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(e);case 2:a=t.sent,n({type:"NEW_DIFFERENTIALUNDERCASE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALSUNDERCASE":return t.data;case"NEW_DIFFERENTIALUNDERCASE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Ke="/api/differentials",ze=function(){return p.a.get("".concat(Ke,"/").concat(m()),O()).then((function(e){return e.data}))},Me=function(e){return p.a.post("".concat(Ke,"/").concat(m()),e,O()).then((function(e){return e.data}))},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALS":return t.data;case"NEW_DIFFERENTIAL":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Je=function(e){var t=e.diffGroupCaseId,n=Object(I.a)().t,r=Object(a.useState)(!1),i=Object(_.a)(r,2),c=i[0],o=i[1],u=Object(s.b)(),l=function(){return o(!c)};return Object(G.jsxs)("div",{id:"newDifferential",children:[Object(G.jsx)(V.a,{className:"addButton",onClick:l,id:"addNew",children:n("buttonNewDifferential")}),Object(G.jsxs)(q.a,{show:c,onHide:l,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:n("addDifferential")})}),Object(G.jsx)(q.a.Body,{children:Object(G.jsxs)(_e.a,{defaultActiveKey:"select",id:"differentials",className:"mb-3",children:[Object(G.jsx)(Fe.a,{eventKey:"select",title:n("selectExisting"),children:Object(G.jsx)(qe,{selectDifferential:function(e){l();try{u(He(e)),Z(n("differentialUpdateSuccess"))}catch(t){console.log(t),J(n("differentialUpdateError"))}},diffGroupCaseId:t})}),Object(G.jsx)(Fe.a,{eventKey:"add",title:n("addNewDifferential2"),children:Object(G.jsx)(Be,{addDifferential:function(e){l();try{u(function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Me({name:e.name});case 2:r=n.sent,a({type:"NEW_DIFFERENTIAL",data:r}),a(He({diffGroupCaseId:t,differentialId:r.id,description:e.description}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,t)),Z(n("differentialUpdateSuccess"))}catch(a){console.log(a),J(n("differentialUpdateError"))}}})})]})})]})]})},Ze=function(e){var t=e.diffGroupCaseId,n=e.name,a=e.admin;return Object(G.jsxs)($.a,{style:{width:"60rem"},children:[Object(G.jsx)($.a.Header,{children:n}),Object(G.jsxs)($.a.Body,{children:[Object(G.jsx)(Le,{diffGroupCaseId:t}),a&&Object(G.jsx)(Je,{diffGroupCaseId:t})]})]})},Qe=function(e){var t=e.admin,n=Object(s.c)((function(e){return e.differentialGroupsUnderCase}));return Object(G.jsx)("div",{"data-testid":"diffGroupList",children:n.map((function(e){return Object(G.jsx)(Ze,{diffGroupCaseId:e.diffGroupCaseId,name:e.name,admin:t},e.id)}))})},Xe=function(e){var t=e.addDifferentialGroup,n=Object(I.a)().t,a=Object(W.c)({initialValues:{name:""},validationSchema:K.c({name:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired"))}),onSubmit:function(e){t({name:e.name})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"name",children:[Object(G.jsx)(z.a.Label,{children:n("addDifferentialGroup")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:n("write")},a.getFieldProps("name")),{},{isInvalid:!!a.errors.name})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.name})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferentialGroup")})]})},$e=function(e){var t=e.selectDifferentialGroup,n=Object(I.a)().t,r=Object(a.useState)([]),i=Object(_.a)(r,2),c=i[0],o=i[1],u=Object(s.c)((function(e){return e.differentialGroups}));return Object(G.jsxs)(z.a,{onSubmit:function(e){e.preventDefault();var n=u.filter((function(e){return e.name===c[0]}))[0];t(n.id),o([])},children:[Object(G.jsxs)(z.a.Group,{children:[Object(G.jsx)(z.a.Label,{children:n("selectExistingDifferentialGroup")}),Object(G.jsx)(Ve.a,{id:"basic-typeahead-single",labelKey:"name",options:u.map((function(e){return e.name})),placeholder:n("selectDifferentialGroup"),onChange:o,selected:c})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferentialGroup")})]})},et=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(e);case 2:a=t.sent,n({type:"NEW_DIFFERENTIALGROUP_UNDER_CASE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALGROUPS_UNDER_CASE":return t.data;case"NEW_DIFFERENTIALGROUP_UNDER_CASE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},nt="/api/differentialGroups",at=function(){return p.a.get("".concat(nt,"/").concat(m()),O()).then((function(e){return e.data}))},rt=function(e){return p.a.post("".concat(nt,"/").concat(m()),e,O()).then((function(e){return e.data}))},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALGROUPS":return t.data;case"NEW_DIFFERENTIALGROUP":return[].concat(Object(l.a)(e),[t.data]);default:return e}},ct=function(e){var t=e.caseId,n=Object(I.a)().t,r=Object(a.useState)(!1),i=Object(_.a)(r,2),c=i[0],o=i[1],u=Object(s.b)(),l=function(){return o(!c)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"addButton",onClick:l,id:"addNew",children:n("buttonNewDifferentialGroup")}),Object(G.jsxs)(q.a,{show:c,onHide:l,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:n("addDifferentialGroup")})}),Object(G.jsx)(q.a.Body,{children:Object(G.jsxs)(_e.a,{defaultActiveKey:"select",id:"differentialGroups",className:"mb-3",children:[Object(G.jsx)(Fe.a,{eventKey:"select",title:n("selectExisting"),children:Object(G.jsx)($e,{selectDifferentialGroup:function(e){l();try{u(et({differentialGroupId:e,caseId:Number(t)})),Z(n("differentialGroupUpdateSuccess"))}catch(a){console.log(a),J(n("differentialGroupUpdateError"))}}})}),Object(G.jsx)(Fe.a,{eventKey:"add",title:n("addNewDifferential2"),children:Object(G.jsx)(Xe,{addDifferentialGroup:function(e){l();try{u(function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rt(t);case 2:r=n.sent,a({type:"NEW_DIFFERENTIALGROUP",data:r}),a(et({caseId:e,differentialGroupId:r.id}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(Number(t),e)),Z(n("differentialGroupUpdateSuccess"))}catch(a){console.log(a),J(n("differentialGroupUpdateError"))}}})})]})})]})]})},st=function(e){var t=e.admin,n=Object(I.a)().t,a=Object(L.h)().id;return Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:n("Differentials")}),t&&Object(G.jsx)("div",{children:Object(G.jsx)(ct,{caseId:a})}),Object(G.jsx)(Qe,{admin:t})]})},ot=function(e){var t=e.c,n=e.hideCase,r=Object(I.a)().t,i=Object(a.useState)(t.hidden),c=Object(_.a)(i,2),s=c[0],o=c[1];return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Object(H.a)(Object(H.a)({},t),{},{hidden:s}))},children:[Object(G.jsx)("label",{htmlFor:"submit",className:"hidden",children:r(s?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")}),Object(G.jsx)("input",{id:"submitHide",className:"hideCase",type:"submit",onClick:function(){o(!s)},size:"sm",value:r(s?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")})]})})},ut=function(e){var t=e.c,n=e.updateCaseTitle,a=Object(I.a)().t,r=Object(W.c)({initialValues:{title:t.title},validationSchema:K.c({title:K.d().min(2,a("warningShort")).max(999,a("warningLong")).required(a("warningRequired"))}),onSubmit:function(e){n(Object(H.a)(Object(H.a)({},t),{},{title:e.title}))}});return Object(G.jsx)(z.a,{noValidate:!0,onSubmit:r.handleSubmit,children:Object(G.jsxs)(z.a.Group,{controlId:"updateTitle",style:{width:"30rem"},children:[Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({className:"titleChangeInput",type:"text"},r.getFieldProps("title")),{},{isInvalid:!!r.errors.title})),Object(G.jsx)(z.a.Text,{className:"text-muted",children:a("caseTitleInstruction")}),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.title})]})})},dt=function(e){var t=e.c,n=e.updateAnamnesis,a=Object(I.a)().t,r=Object(W.c)({initialValues:{anamnesis:t.anamnesis},validationSchema:K.c({anamnesis:K.d().min(2,a("warningShort")).max(5e3,a("warningLong")).required(a("warningRequired"))}),onSubmit:function(e){n(Object(H.a)(Object(H.a)({},t),{},{anamnesis:e.anamnesis}))}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:r.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"updateAnamnesis",children:[Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({className:"anamnesisForm",as:"textarea"},r.getFieldProps("anamnesis")),{},{isInvalid:!!r.errors.anamnesis,rows:10})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.anamnesis})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:a("buttonSaveAnamneesi")})]})},lt=function(e){var t=e.admin,n=Object(I.a)().t,a=Object(s.b)(),r=Object(L.h)().id,i=Object(s.c)((function(e){return e.cases.find((function(e){return e.id===Number(r)}))})),c=function(e){try{a((t=e,function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:n({type:"UPDATE_CASE",data:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Z(n("caseUpdateSuccess"))}catch(r){console.log(r),J(n("caseUpdateError"))}var t};return Object(G.jsxs)("div",{children:[t&&i&&Object(G.jsxs)("div",{id:"casePageArea",children:[Object(G.jsxs)("div",{className:"rows",children:[Object(G.jsx)(ut,{c:i,updateCaseTitle:c}),Object(G.jsx)(ot,{c:i,hideCase:c})]}),Object(G.jsx)(dt,{c:i,updateAnamnesis:c})]}),!t&&i&&Object(G.jsx)("p",{children:i.title})]})},bt="/api/subProcedures",jt=function(e){return p.a.post("".concat(bt,"/").concat(m()),e,O()).then((function(e){return e.data}))},ft=function(e){return p.a.get("".concat(bt,"/").concat(e,"/").concat(m()),O()).then((function(e){return e.data}))},pt=function(e,t){return p.a.put("".concat(bt,"/").concat(e,"/").concat(m()),t,O())},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUBPROCEDURES":return t.data;case"ADD_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_SUBPROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));default:return e}},Ot="/api/optionGroups",mt=function(){return p.a.get("".concat(Ot,"/").concat(m()),O()).then((function(e){return e.data}))},xt=function(e){return p.a.post("".concat(Ot,"/").concat(m()),e,O()).then((function(e){return e.data}))},vt="/api/optionGroupsUnderSubProcedures",yt=function(e){return p.a.get("".concat(vt,"/").concat(e,"/").concat(m()),O()).then((function(e){return e.data}))},gt=function(e){return p.a.post("".concat(vt,"/").concat(m()),e,O()).then((function(e){return e.data}))},wt=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt(e);case 2:a=t.sent,n({type:"NEW_OPTIONGROUP_UNDER_SUBPROCEDURE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONGROUPS_UNDER_SUBPROCEDURES":return t.data;case"NEW_OPTIONGROUP_UNDER_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONGROUPS":return t.data;case"NEW_OPTIONGROUP":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Nt="/api/options",Ct=function(){return p.a.get("".concat(Nt,"/").concat(m()),O()).then((function(e){return e.data}))},Pt=function(e){return p.a.post("".concat(Nt,"/").concat(m()),e,O()).then((function(e){return e.data}))},It="/api/optionsUnderSubProcedures",Rt=function(e){return p.a.get("".concat(It,"/").concat(e,"/INTERVIEW/").concat(m()),O()).then((function(e){return e.data}))},Tt=function(e){return p.a.post("".concat(It,"/").concat(m()),e,O()).then((function(e){return e.data}))},kt=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt(e);case 2:a=t.sent,n({type:"NEW_OPTION_UNDER_SUBPROCEDURE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS_UNDER_SUBPROCEDURES":return t.data;case"NEW_OPTION_UNDER_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS":return t.data;case"NEW_OPTION":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Ut=function(e){var t=e.admin,n=Object(I.a)().t,r=Object(L.h)().id,i=Object(s.b)(),c="/cases/".concat(r);Object(a.useEffect)((function(){var e;i(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:n=e.sent,t({type:"GET_PROCEDURES",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(Ee(r)),i((e=r,function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft(e);case 2:a=t.sent,n({type:"GET_SUBPROCEDURES",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),i(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt();case 2:n=e.sent,t({type:"GET_OPTIONGROUPS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(e);case 2:a=t.sent,n({type:"GET_OPTIONGROUPS_UNDER_SUBPROCEDURES",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),i(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct();case 2:n=e.sent,t({type:"GET_OPTIONS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rt(e);case 2:a=t.sent,n({type:"GET_OPTIONS_UNDER_SUBPROCEDURES",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),i(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:n=e.sent,t({type:"GET_DIFFERENTIALS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:a=t.sent,n({type:"GET_DIFFERENTIALSUNDERCASE",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),i(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:n=e.sent,t({type:"GET_DIFFERENTIALGROUPS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:a=t.sent,n({type:"GET_DIFFERENTIALGROUPS_UNDER_CASE",data:a||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r))}),[]);return Object(G.jsxs)("div",{id:"wrapper",children:[Object(G.jsxs)(xe.a,{style:{marginBottom:25},children:[Object(G.jsx)(V.a,{className:"tabs",as:u.b,to:"".concat(c,"/anamnesis"),disabled:!0,children:n("caseAnamnesis")}),Object(G.jsx)(V.a,{className:"tabs",as:u.b,to:"".concat(c,"/procedures"),children:n("caseProcedures")}),Object(G.jsx)(V.a,{className:"tabs",as:u.b,to:"".concat(c,"/differentials"),children:n("caseDifferentials")})]}),Object(G.jsxs)(L.d,{children:[Object(G.jsx)(L.b,{path:"/cases/:id/anamnesis",children:Object(G.jsx)(lt,{admin:t})}),Object(G.jsx)(L.b,{path:"/cases/:id/procedures",children:Object(G.jsx)(Ge,{admin:t})}),Object(G.jsx)(L.b,{path:"/cases/:id/differentials",children:Object(G.jsx)(st,{admin:t})}),Object(G.jsx)(L.b,{path:"/cases/:id",children:Object(G.jsx)(L.a,{to:"".concat(c,"/anamnesis")})})]})]})},At=Object(a.forwardRef)((function(e,t){var n=Object(a.useState)(!1),r=Object(_.a)(n,2),i=r[0],c=r[1],s=function(){return c(!i)};return Object(a.useImperativeHandle)(t,(function(){return{toggleVisibility:s}})),Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"addButton text",onClick:s,size:"sm",children:e.buttonLabel}),Object(G.jsxs)(q.a,{show:i,onHide:s,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:e.titleLabel})}),Object(G.jsx)(q.a.Body,{children:e.children})]})]})})),Lt=function(e){var t=Object(W.b)(e),n=Object(_.a)(t,3),a=(n[0],n[1]),r=n[2],i=Object(I.a)().t;return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(z.a.Group,{controlId:"form-".concat(e.name),children:[Object(G.jsx)(z.a.Label,{children:e.label}),Object(G.jsx)(Ve.a,Object(H.a)(Object(H.a)({id:e.name,multiple:!1,onChange:function(e){var t=e.length>0?e[0].name:"";r.setValue(t)},onInputChange:function(e){return r.setValue(e)},onBlur:function(){return r.setTouched(!0)},allowNew:!1,labelKey:e.name,options:e.options,placeholder:i("write"),emptyLabel:""},a.touched&&a.error?{isInvalid:!0,className:"is-invalid"}:{isInvalid:!1}),e)),a.touched&&a.error?Object(G.jsx)("div",{className:"invalid-feedback",children:a.error}):null]})})},_t=function(e){var t=e.addOptionGroup,n=Object(I.a)().t,a=K.c().shape({name:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired"))}),r=Object(s.c)((function(e){return e.optionGroups}));return Object(G.jsx)(W.a,{initialValues:{name:""},validationSchema:a,onSubmit:function(){var e=Object(d.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?n:a[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit;return Object(G.jsx)("div",{children:Object(G.jsxs)(z.a,{onSubmit:t,children:[Object(G.jsx)(Lt,{name:"name",label:n("addOptionGroup"),options:r}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferential")})]})})}})},Ft=function(e){var t=e.optionObject;return Object(G.jsxs)($.a,{children:[Object(G.jsx)(Ue.a.Toggle,{className:"optionCard-".concat(t.isRequired),as:$.a.Header,eventKey:t.id,children:t.name}),Object(G.jsx)(Ue.a.Collapse,{eventKey:t.id,children:Object(G.jsx)($.a.Body,{children:t.description})})]})},Bt=function(e){var t=e.optionGroupSubProcedureId,n=Object(s.c)((function(e){return e.optionsUnderSubProcedure})).filter((function(e){return e.optionGroupSubProcedureId===t}));return Object(G.jsx)(Ue.a,{children:n.map((function(e){return Object(G.jsx)(Ft,{optionObject:e},e.id)}))})},Vt=function(e){var t=e.addOption,n=Object(I.a)().t,a=K.c().shape({name:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),description:K.d(),isRequired:K.b().required(n("warningRequired")).integer()}),r=Object(s.c)((function(e){return e.options}));return Object(G.jsx)(W.a,{initialValues:{name:"",description:"",isRequired:2},validationSchema:a,onSubmit:function(){var e=Object(d.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?n:Object(H.a)(Object(H.a)({},a[0]),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,a=e.handleChange,i=e.setFieldValue,c=e.values;return Object(G.jsx)("div",{children:Object(G.jsxs)(z.a,{onSubmit:t,children:[Object(G.jsx)(Lt,{name:"name",label:n("addOption"),options:r}),Object(G.jsxs)(z.a.Group,{controlId:"description",children:[Object(G.jsx)(z.a.Label,{children:n("description")}),Object(G.jsx)(z.a.Control,{as:"textarea",rows:3,value:c.description,onChange:a})]}),Object(G.jsxs)(z.a.Group,{controlId:"isRequired",children:[Object(G.jsx)(z.a.Check,{defaultChecked:!0,label:n("required"),name:"isRequired",type:"radio",id:"inline-radio-1",value:2,onChange:function(){return i("isRequired",2)}}),Object(G.jsx)(z.a.Check,{label:n("voluntary"),name:"isRequired",type:"radio",id:"inline-radio-2",value:1,checked:1===c.isRequired,onChange:function(){return i("isRequired",1)}}),Object(G.jsx)(z.a.Check,{label:n("wrong"),name:"isRequired",type:"radio",id:"inline-radio-3",value:0,checked:0===c.isRequired,onChange:function(){return i("isRequired",0)}})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmitNewDifferential")})]})})}})},qt=function(e){var t=e.optionGroupSubProcedureId,n=e.name,r=e.admin,i=Object(I.a)().t,c=Object(s.b)(),o=Object(a.useRef)();return Object(G.jsxs)($.a,{children:[Object(G.jsx)($.a.Header,{children:n}),Object(G.jsxs)($.a.Body,{children:[Object(G.jsx)(Bt,{optionGroupSubProcedureId:t}),r&&Object(G.jsx)(At,{buttonLabel:i("buttonAddNewOption"),titleLabel:i("addOption"),ref:o,children:Object(G.jsx)(Vt,{addOption:function(e){o.current.toggleVisibility();try{c(function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var r,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(r=t.id)){n.next=7;break}return n.next=4,Pt({name:t.name});case 4:i=n.sent,a({type:"NEW_OPTION",data:i}),r=i.id;case 7:a(kt({optionGroupSubProcedureId:e,optionId:r,description:t.description,isRequired:t.isRequired}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,e)),Z(i("optionGroupAddSuccess"))}catch(n){J(i("optionGroupAddError"))}}})})]})]})},Ht=function(e){var t=e.subProcedureId,n=e.admin,a=Object(s.c)((function(e){return e.optionGroupsUnderSubProcedure})).filter((function(e){return e.subProcedureId===t}));return Object(G.jsx)("div",{"data-testid":"optionGroupList",children:a.map((function(e){return Object(G.jsx)(qt,{optionGroupSubProcedureId:e.optionGroupSubProcedureId,name:e.name,admin:n},e.id)}))})},Wt=function(e){var t=e.d,n=e.admin,r=Object(I.a)().t,i=Object(s.b)(),c=Object(a.useRef)();return Object(G.jsx)("div",{children:Object(G.jsxs)($.a,{style:{width:"60rem"},children:[Object(G.jsx)(Ue.a.Toggle,{as:$.a.Header,eventKey:t.id,children:Object(G.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:t.title})}),Object(G.jsx)(Ue.a.Collapse,{eventKey:t.id,children:Object(G.jsxs)($.a.Body,{children:[n&&Object(G.jsx)(At,{buttonLabel:r("buttonAddNewOptionGroup"),titleLabel:r("addOptionGroup"),ref:c,children:Object(G.jsx)(_t,{addOptionGroup:function(e){c.current.toggleVisibility();try{i(function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var r,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(r=t.id)){n.next=7;break}return n.next=4,xt(t);case 4:i=n.sent,a({type:"NEW_OPTIONGROUP",data:i}),r=i.id;case 7:a(wt({subProcedureId:e,optionGroupId:r}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,e)),Z(r("optionGroupAddSuccess"))}catch(n){J(r("optionGroupAddError"))}}})}),Object(G.jsx)(Ht,{subProcedureId:t.id,admin:n})]})})]})})},Kt=function(e){var t=e.title,n=e.text,a=e.handleTextSubProcedureUpdate,r=Object(I.a)().t,i=Object(W.c)({initialValues:{title:t,text:n},validationSchema:K.c({title:K.d().min(2,r("warningShort")).max(999,r("warningLong")).required(r("warningRequired")),priority:K.d(),text:K.d()}),onSubmit:function(e){a({title:e.title,text:e.text})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:i.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"title",children:[Object(G.jsx)(z.a.Label,{children:r("title")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:r("write")},i.getFieldProps("title")),{},{isInvalid:!!i.errors.title})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:i.errors.title})]}),Object(G.jsxs)(z.a.Group,{controlId:"text",children:[Object(G.jsx)(z.a.Label,{children:r("textToAdd")}),Object(G.jsx)(z.a.Control,Object(H.a)({as:"textarea",rows:10},i.getFieldProps("text")))]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:r("buttonUpdate")})]})},zt=function(e){var t=e.d,n=Object(I.a)().t,r=Object(s.b)(),i=Object(a.useState)(!1),c=Object(_.a)(i,2),o=c[0],u=c[1],l=function(){return u(!o)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"editButton",size:"sm",onClick:l,children:n("buttonEdit")}),Object(G.jsxs)(q.a,{show:o,onHide:l,backdrop:"static",keyboard:!1,children:[Object(G.jsx)(q.a.Header,{closeButton:!0,children:Object(G.jsx)(q.a.Title,{children:n("updateSubProcedure")})}),Object(G.jsx)(q.a.Body,{children:Object(G.jsx)(Kt,{title:t.title,text:t.text,handleTextSubProcedureUpdate:function(e){l();try{r((a=t.id,i=Object(H.a)(Object(H.a)({},t),{},{title:e.title,text:e.text}),function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(a,i);case 2:t({type:"UPDATE_SUBPROCEDURE",data:i});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Z(n("subProcedureUpdateSuccess"))}catch(c){J(n("subProcedureUpdateError"))}var a,i}})})]})]})},Mt=function(e){var t=e.d,n=e.admin;return Object(G.jsx)("div",{children:Object(G.jsxs)($.a,{style:{width:"60rem"},children:[Object(G.jsx)(Ue.a.Toggle,{as:$.a.Header,eventKey:t.id,children:Object(G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[t.title,n&&Object(G.jsx)("div",{className:"cardButtons",children:Object(G.jsx)(zt,{d:t})})]})}),Object(G.jsx)(Ue.a.Collapse,{eventKey:t.id,children:Object(G.jsx)($.a.Body,{children:t.text})})]})})},Yt=function(e){var t=e.d,n=e.admin;return"TEXT"===t.type?Object(G.jsx)(Mt,{d:t,admin:n}):"INTERVIEW"===t.type?Object(G.jsx)(Wt,{d:t,admin:n}):void 0},Jt=function(e){var t=e.procedureCaseId,n=e.admin,a=Object(s.c)((function(e){return e.subProcedures})).filter((function(e){return e.procedureCaseId===Number(t)})).sort((function(e,t){return e.priority-t.priority}));return Object(G.jsx)(Ue.a,{children:a.map((function(e){return Object(G.jsx)(Yt,{d:e,admin:n},e.id)}))})},Zt=function(e){var t=e.handleSubProcedureAdd,n=Object(I.a)().t,a=Object(W.c)({initialValues:{priority:"",title:"",text:""},validationSchema:K.c({title:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),priority:K.b(),text:K.d()}),onSubmit:function(e){t({priority:Number(e.priority),type:"TEXT",title:e.title,text:e.text})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"title",children:[Object(G.jsx)(z.a.Label,{children:n("title")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:n("write")},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.title})]}),Object(G.jsxs)(z.a.Group,{controlId:"priority",children:[Object(G.jsx)(z.a.Label,{children:n("subProcedurePriority")}),Object(G.jsx)(z.a.Control,Object(H.a)({type:"text",placeholder:n("giveNumber")},a.getFieldProps("priority")))]}),Object(G.jsxs)(z.a.Group,{className:"mb-3",controlId:"text",children:[Object(G.jsx)(z.a.Label,{children:n("textToAdd")}),Object(G.jsx)(z.a.Control,Object(H.a)({as:"textarea",rows:10},a.getFieldProps("text")))]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},Qt=function(e){var t=e.handleSubProcedureAdd,n=Object(I.a)().t,a=Object(W.c)({initialValues:{priority:"",title:""},validationSchema:K.c({title:K.d().min(2,n("warningShort")).max(999,n("warningLong")).required(n("warningRequired")),priority:K.b().required(n("warningRequired")).positive(n("warningPositiveInteger")).integer(n("warningPositiveInteger"))}),onSubmit:function(e){t({priority:Number(e.priority),type:"INTERVIEW",title:e.title})}});return Object(G.jsxs)(z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(G.jsxs)(z.a.Group,{controlId:"title",children:[Object(G.jsx)(z.a.Label,{children:n("title")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:n("write")},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.title})]}),Object(G.jsxs)(z.a.Group,{controlId:"priority",children:[Object(G.jsx)(z.a.Label,{children:n("subProcedurePriority")}),Object(G.jsx)(z.a.Control,Object(H.a)(Object(H.a)({type:"text",placeholder:n("giveNumber")},a.getFieldProps("priority")),{},{isInvalid:!!a.errors.priority})),Object(G.jsx)(z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.priority})]}),Object(G.jsx)(V.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},Xt=function(e){var t=e.admin,n=Object(I.a)().t,r=Object(L.h)().id,i=Object(s.b)(),c=Object(a.useState)(!1),o=Object(_.a)(c,2),u=o[0],l=o[1],b=Object(a.useRef)(),f={display:u?"":"none"},p=function(e){b.current.toggleVisibility();try{i((t=e,a=Number(r),function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(Object(H.a)(Object(H.a)({},t),{},{procedureCaseId:a}));case 2:r=e.sent,n({type:"ADD_SUBPROCEDURE",data:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Z(n("subProcedureUpdateSuccess"))}catch(c){J(n("subProcedureUpdateError"))}var t,a};return Object(G.jsxs)("div",{id:"wrapper",children:[Object(G.jsx)("h2",{children:n("subProcedures")}),t&&Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{className:"addButton",onClick:function(){l(!u)},id:"addNew",children:n("buttonNewSubProcedure")}),Object(G.jsxs)("div",{className:"rows",style:f,children:[Object(G.jsx)(At,{buttonLabel:n("buttonAddNewText"),titleLabel:n("addTextSubProcedure"),ref:b,children:Object(G.jsx)(Zt,{handleSubProcedureAdd:p})}),Object(G.jsx)(V.a,{className:"addButton question",size:"sm",children:n("buttonAddNewQuestion")}),Object(G.jsx)(At,{buttonLabel:n("buttonAddNewInterview"),titleLabel:n("addInterviewSubProcedure"),ref:b,children:Object(G.jsx)(Qt,{handleSubProcedureAdd:p})}),Object(G.jsx)(V.a,{className:"addButton diagnosis",size:"sm",children:n("buttonAddFinalDiagnosis")})]}),Object(G.jsx)(Jt,{procedureCaseId:r,admin:t})]})]})},$t=function(){var e=Object(I.a)().t;return Object(G.jsx)("div",{id:"wrapper",children:Object(G.jsx)("h2",{children:e("fileBank")})})},en=function(){var e=Object(s.c)((function(e){return e.admin}));return Object(G.jsxs)(L.d,{children:[Object(G.jsx)(L.b,{path:"/howtoplay",children:Object(G.jsx)(he,{})}),Object(G.jsx)(L.b,{path:"/profile",children:Object(G.jsx)(Oe,{})}),Object(G.jsx)(L.b,{path:"/users",children:e?Object(G.jsx)(me,{}):Object(G.jsx)(L.a,{to:"/"})}),Object(G.jsx)(L.b,{path:"/cases/:id/procedure/:id",children:Object(G.jsx)(Xt,{admin:e})}),Object(G.jsx)(L.b,{path:"/cases/:id",children:Object(G.jsx)(Ut,{admin:e})}),Object(G.jsx)(L.b,{path:"/files",children:e?Object(G.jsx)($t,{}):Object(G.jsx)(L.a,{to:"/"})}),Object(G.jsx)(L.b,{path:"/",children:Object(G.jsx)(pe,{admin:e})})]})},tn=function(){var e=Object(s.b)();return r.a.useEffect((function(){e(function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:n=e.sent,a=n.data,r=n.user,t({type:"INITIALIZE_CASES",data:a}),i=r.token,h="bearer ".concat(i),t({type:"INITIALIZE_USER",data:r.admin});case 8:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(G.jsxs)(u.a,{children:[Object(G.jsx)(U,{}),Object(G.jsx)(A,{}),Object(G.jsx)(Q,{}),Object(G.jsx)(en,{})]})},nn=n(62),an=n(212),rn=n(210),cn=n(164),sn=n(211),on=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"INITIALIZE_USER"===t.type?t.data:e},un={key:"root",storage:n.n(sn).a},dn=Object(nn.combineReducers)({cases:S,admin:on,procedures:Ie,proceduresUnderCase:Pe,subProcedures:ht,optionGroups:Et,optionGroupsUnderSubProcedure:St,options:Gt,optionsUnderSubProcedure:Dt,differentials:Ye,differentialsUnderCase:We,differentialGroups:it,differentialGroupsUnderCase:tt}),ln=Object(cn.a)(un,dn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bn=function(){var e=Object(nn.createStore)(ln,Object(rn.composeWithDevTools)(Object(nn.applyMiddleware)(an.a)));return{store:e,persistor:Object(cn.b)(e)}}(),jn=bn.store,fn=bn.persistor;c.a.render(Object(G.jsx)(s.a,{store:jn,children:Object(G.jsx)(o.a,{loading:null,persistor:fn,children:Object(G.jsx)(tn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[360,1,2]]]);
//# sourceMappingURL=main.8861f1b9.chunk.js.map